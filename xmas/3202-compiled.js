var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(c){return c.raw=c};$jscomp.createTemplateTagFirstArgWithRaw=function(c,g){c.raw=g;return c};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,g,n){if(c==Array.prototype||c==Object.prototype)return c;c[g]=n.value;return c};$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var g=0;g<c.length;++g){var n=c[g];if(n&&n.Math==Math)return n}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,g){var n=$jscomp.propertyToPolyfillSymbol[g];if(null==n)return c[g];n=c[n];return void 0!==n?n:c[g]};
$jscomp.polyfill=function(c,g,n,q){g&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,g,n,q):$jscomp.polyfillUnisolated(c,g,n,q))};$jscomp.polyfillUnisolated=function(c,g,n,q){n=$jscomp.global;c=c.split(".");for(q=0;q<c.length-1;q++){var p=c[q];if(!(p in n))return;n=n[p]}c=c[c.length-1];q=n[c];g=g(q);g!=q&&null!=g&&$jscomp.defineProperty(n,c,{configurable:!0,writable:!0,value:g})};
$jscomp.polyfillIsolated=function(c,g,n,q){var p=c.split(".");c=1===p.length;q=p[0];q=!c&&q in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var t=0;t<p.length-1;t++){var z=p[t];if(!(z in q))return;q=q[z]}p=p[p.length-1];n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?q[p]:null;g=g(n);null!=g&&(c?$jscomp.defineProperty($jscomp.polyfills,p,{configurable:!0,writable:!0,value:g}):g!==n&&(void 0===$jscomp.propertyToPolyfillSymbol[p]&&(n=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[p]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(p):$jscomp.POLYFILL_PREFIX+n+"$"+p),$jscomp.defineProperty(q,$jscomp.propertyToPolyfillSymbol[p],{configurable:!0,writable:!0,value:g})))};$jscomp.polyfill("Object.is",function(c){return c?c:function(g,n){return g===n?0!==g||1/g===1/n:g!==g&&n!==n}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(g,n){var q=this;q instanceof String&&(q=String(q));var p=q.length;n=n||0;for(0>n&&(n=Math.max(n+p,0));n<p;n++){var t=q[n];if(t===g||Object.is(t,g))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(c,g,n){if(null==c)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return c+""};$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(g,n){return-1!==$jscomp.checkStringArgs(this,g,"includes").indexOf(g,n||0)}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var c={},g=Object.create(new $jscomp.global.Proxy(c,{get:function(n,q,p){return n==c&&"q"==q&&p==g}}));return!0===g.q}catch(n){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.arrayIteratorImpl=function(c){var g=0;return function(){return g<c.length?{done:!1,value:c[g++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(c){if(c)return c;var g=function(t,z){this.$jscomp$symbol$id_=t;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:z})};g.prototype.toString=function(){return this.$jscomp$symbol$id_};var n="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",q=0,p=function(t){if(this instanceof p)throw new TypeError("Symbol is not a constructor");return new g(n+(t||"")+"_"+q++,t)};return p},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var g="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<g.length;n++){var q=$jscomp.global[g[n]];"function"===typeof q&&"function"!=typeof q.prototype[c]&&$jscomp.defineProperty(q.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return c},"es6",
"es3");$jscomp.iteratorPrototype=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){var g="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return g?g.call(c):$jscomp.arrayIterator(c)};$jscomp.owns=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)};
$jscomp.polyfill("WeakMap",function(c){function g(){if(!c||!Object.seal)return!1;try{var e=Object.seal({}),h=Object.seal({}),r=new c([[e,2],[h,3]]);if(2!=r.get(e)||3!=r.get(h))return!1;r.delete(e);r.set(h,4);return!r.has(e)&&4==r.get(h)}catch(E){return!1}}function n(){}function q(e){var h=typeof e;return"object"===h&&null!==e||"function"===h}function p(e){if(!$jscomp.owns(e,z)){var h=new n;$jscomp.defineProperty(e,z,{value:h})}}function t(e){if(!$jscomp.ISOLATE_POLYFILLS){var h=Object[e];h&&(Object[e]=
function(r){if(r instanceof n)return r;Object.isExtensible(r)&&p(r);return h(r)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(g())return c;var z="$jscomp_hidden_"+Math.random();t("freeze");t("preventExtensions");t("seal");var w=0,l=function(e){this.id_=(w+=Math.random()+1).toString();if(e){e=$jscomp.makeIterator(e);for(var h;!(h=e.next()).done;)h=h.value,this.set(h[0],h[1])}};l.prototype.set=function(e,h){if(!q(e))throw Error("Invalid WeakMap key");
p(e);if(!$jscomp.owns(e,z))throw Error("WeakMap key fail: "+e);e[z][this.id_]=h;return this};l.prototype.get=function(e){return q(e)&&$jscomp.owns(e,z)?e[z][this.id_]:void 0};l.prototype.has=function(e){return q(e)&&$jscomp.owns(e,z)&&$jscomp.owns(e[z],this.id_)};l.prototype.delete=function(e){return q(e)&&$jscomp.owns(e,z)&&$jscomp.owns(e[z],this.id_)?delete e[z][this.id_]:!1};return l},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(c){function g(){if($jscomp.ASSUME_NO_NATIVE_MAP||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var l=Object.seal({x:4}),e=new c($jscomp.makeIterator([[l,"s"]]));if("s"!=e.get(l)||1!=e.size||e.get({x:4})||e.set({x:4},"t")!=e||2!=e.size)return!1;var h=e.entries(),r=h.next();if(r.done||r.value[0]!=l||"s"!=r.value[1])return!1;r=h.next();return r.done||4!=r.value[0].x||"t"!=r.value[1]||!h.next().done?!1:!0}catch(E){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(g())return c;var n=new WeakMap,q=function(l){this.data_={};this.head_=z();this.size=0;if(l){l=$jscomp.makeIterator(l);for(var e;!(e=l.next()).done;)e=e.value,this.set(e[0],e[1])}};q.prototype.set=function(l,e){l=0===l?0:l;var h=p(this,l);h.list||(h.list=this.data_[h.id]=[]);h.entry?h.entry.value=e:(h.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:l,value:e},h.list.push(h.entry),
this.head_.previous.next=h.entry,this.head_.previous=h.entry,this.size++);return this};q.prototype.delete=function(l){l=p(this,l);return l.entry&&l.list?(l.list.splice(l.index,1),l.list.length||delete this.data_[l.id],l.entry.previous.next=l.entry.next,l.entry.next.previous=l.entry.previous,l.entry.head=null,this.size--,!0):!1};q.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=z();this.size=0};q.prototype.has=function(l){return!!p(this,l).entry};q.prototype.get=function(l){return(l=
p(this,l).entry)&&l.value};q.prototype.entries=function(){return t(this,function(l){return[l.key,l.value]})};q.prototype.keys=function(){return t(this,function(l){return l.key})};q.prototype.values=function(){return t(this,function(l){return l.value})};q.prototype.forEach=function(l,e){for(var h=this.entries(),r;!(r=h.next()).done;)r=r.value,l.call(e,r[1],r[0],this)};q.prototype[Symbol.iterator]=q.prototype.entries;var p=function(l,e){var h=e&&typeof e;"object"==h||"function"==h?n.has(e)?h=n.get(e):
(h=""+ ++w,n.set(e,h)):h="p_"+e;var r=l.data_[h];if(r&&$jscomp.owns(l.data_,h))for(l=0;l<r.length;l++){var E=r[l];if(e!==e&&E.key!==E.key||e===E.key)return{id:h,list:r,index:l,entry:E}}return{id:h,list:r,index:-1,entry:void 0}},t=function(l,e){var h=l.head_;return $jscomp.iteratorPrototype(function(){if(h){for(;h.head!=l.head_;)h=h.previous;for(;h.next!=h.head;)return h=h.next,{done:!1,value:e(h)};h=null}return{done:!0,value:void 0}})},z=function(){var l={};return l.previous=l.next=l.head=l},w=0;
return q},"es6","es3");var oPopTotalbet=null,totalBetValue,totalbetChange=1250;function CPopTotalbet(){oPopTotalbet=this;this.renderDOM=s_aData.totalbet;this.popDOM=new CPopupDOM;this.closeButton=new CPopCloseButton;this.value=totalBet[0]}CPopTotalbet.prototype.updateTextInput=function(c){document.getElementById("textInput").value=totalBet[c];document.getElementById("rangeTotalbet").value=c;this.value=totalBet[c];totalbetChange=totalBet[c]};
CPopTotalbet.prototype.totalBetSure=function(){totalBetSwitch=0;totalBetValue=this.value;for(var c=0;c<userInterface.length;c++)userInterface[c].refreshTotalBet(Number(totalBetValue));this.onChangeBetScore(totalBetValue)};CPopTotalbet.prototype.onChangeBetScore=function(c){s_oGame.onChangeBetScore(c)};
CPopTotalbet.prototype.onResize=function(){document.getElementById("minidiv").style.width=document.getElementById("maxdiv").style.width;$("#popup").css("padding",0);$("#popup").width(VIEW_WIDTH*s_oMain.ratio*.9);$("#popup").height(VIEW_HEIGHT*s_oMain.ratio*.6);$("#popup").css("left","50%");$("#popup").css("margin-left","-"+$("#popup").width()/2+"px");$("#popup").css("top","50%");$("#popup").css("margin-top","-"+$("#popup").height()/2+"px");document.getElementById("totalBet").style.marginTop="0%";
document.getElementById("totalBet").style.height="100%";document.getElementById("totalBetSure").style.transform="scale(0.7)";document.getElementById("totalBet_article").style.marginBottom="0";document.getElementById("totalBet_article").style.marginTop="0%";document.getElementById("totalBeth2").style.fontSize="20px";document.getElementById("minidiv").style.marginRight="0";document.getElementById("minidiv").style.fontSize="18px";document.getElementById("maxdiv").style.marginLeft="0";document.getElementById("maxdiv").style.fontSize=
"18px";document.getElementById("rangeTotalbet").style.marginTop="auto";document.getElementById("rangeTotalbet").style.width="200px";document.getElementById("minusAddSetContainer").style.marginLeft="10px";document.getElementById("minusAddSetContainer").style.marginRight="10px";document.getElementById("minusAddSet").style.justifyContent="center";document.getElementsByClassName("but_bet_reduce_1")[0].style.transform="scale(0.5)";document.getElementsByClassName("but_bet_increase_1")[0].style.transform=
"scale(0.5)";document.getElementById("textInput").style.width="140px";document.getElementById("textInput").style.height="40px";document.getElementById("textInput").style.fontSize="20px";document.getElementById("textInput").style.marginLeft="-30px";document.getElementById("textInput").style.marginRight="-30px";document.getElementById("but_close").style.transform="scale(0.25)";browserAndDevice.versions.iPad&&(document.getElementById("totalBet").style.marginTop="0%",document.getElementById("totalBet").style.height=
"100%",document.getElementById("totalBetSure").style.transform="scale(0.8)",document.getElementById("totalBet_article").style.marginBottom="0",document.getElementById("but_close").style.right="0%",document.getElementById("totalBeth2").style.fontSize="50px",document.getElementById("minidiv").style.marginRight="0",document.getElementById("minidiv").style.fontSize="40px",document.getElementById("maxdiv").style.marginLeft="0",document.getElementById("maxdiv").style.fontSize="40px",document.getElementById("rangeTotalbet").style.marginTop=
"auto",document.getElementById("rangeTotalbet").style.width="400px",document.getElementById("rangeTotalbet").style.height="20px",document.getElementById("minusAddSetContainer").style.marginLeft="30px",document.getElementById("minusAddSetContainer").style.marginRight="30px",document.getElementById("minusAddSet").style.justifyContent="center",document.getElementsByClassName("but_bet_reduce_1")[0].style.transform="scale(0.8)",document.getElementsByClassName("but_bet_increase_1")[0].style.transform="scale(0.8)",
document.getElementById("textInput").style.width="240px",document.getElementById("textInput").style.height="70px",document.getElementById("textInput").style.fontSize="40px",document.getElementById("textInput").style.marginLeft="-20px",document.getElementById("textInput").style.marginRight="-20px")};
CPopTotalbet.prototype.addHTML=function(){settingLeftWidth="totalbet";this.popDOM.addHTML(this.renderDOM);this.popDOM.currentHTML.style.pointerEvents="auto";this.popDOM.currentHTML.style.visibility="visible";document.getElementById("totalBetSure").addEventListener("click",s_oGame.closePopUp);document.getElementById("but_close").addEventListener("click",s_oGame.closePopUp);$("#rangeTotalbet").attr("max",totalBet.length-1);$("#popup").height("300px");$("#popup").width("500px");$("#max").html(totalBet[totalBet.length-
1].changeUnit(!0));$("#mini").html(totalBet[0].changeUnit(!0));for(var c=0;c<totalBet.length;c++)if(totalBet[c]==totalBetValue){document.getElementById("rangeTotalbet").defaultValue=c;document.getElementById("rangeTotalbet").value=c;totalbetChange=totalBetValue;break}$("#textInput").val(totalBetValue.toFixed(FIXED_DIGIT));$("#but_close").click(function(){totalbetChange=totalBetValue});$("#totalBetMinus").click(function(){for(var g=0;g<totalBet.length;g++)if(totalBet[g]==totalbetChange){rangeTotalbetChange=
1;0==g?(document.getElementById("rangeTotalbet").value=totalBet.length-1,oPopTotalbet.updateTextInput(totalBet.length-1),totalbetChange=totalBet[totalBet.length-1]):(document.getElementById("rangeTotalbet").value=g-1,oPopTotalbet.updateTextInput(g-1),totalbetChange=totalBet[g-1]);break}});$("#totalBetAdd").click(function(){for(var g=0;g<totalBet.length;g++)if(totalBet[g]==totalbetChange){rangeTotalbetChange=1;g==totalBet.length-1?(document.getElementById("rangeTotalbet").value=0,oPopTotalbet.updateTextInput(0),
totalbetChange=totalBet[0]):(console.log("i ",g),document.getElementById("rangeTotalbet").value=g+1,oPopTotalbet.updateTextInput(g+1),totalbetChange=totalBet[g+1]);break}});this.onResize()};CPopTotalbet.prototype.fire=function(){this.popDOM.currentHTML?this.popDOM.removeHTML():(rangeTotalbetChange=0,this.addHTML(),$("#rangeTotalbet").change(function(){rangeTotalbetChange=1;oPopTotalbet.updateTextInput($("#rangeTotalbet").val())}),$("#totalBetSure").click(function(){1==rangeTotalbetChange&&oPopTotalbet.totalBetSure()}))};
CPopTotalbet.prototype.removeHTML=function(){this.popDOM.currentHTML&&this.popDOM.removeHTML();this.closeButton&&this.closeButton.removeHTML();this.DOMStartAuto&&(document.body.removeChild(this.DOMStartAuto),this.DOMStartAuto=null);this.DOMExitSetting&&(document.body.removeChild(this.DOMExitSetting),this.DOMExitSetting=null)};Object.defineProperty(CPopTotalbet.prototype,"existDOM",{get:function(){return null!=this.popDOM.currentHTML}});function CPopupDOM(){this.currentHTML=null;this.VIDEO_RATIO_Y=VIDEO_FRAME_HEIGHT/CANVAS_HEIGHT;this.VIDEO_RATIO_X=VIDEO_FRAME_WIDTH/CANVAS_WIDTH}CPopupDOM.prototype.onResize=function(){};CPopupDOM.prototype.toHTML=function(c){return document.createElement("div").innerHTML=c};CPopupDOM.prototype.addHTML=function(c){var g=document.createElement("div");g.id="popup";g.innerHTML=c;this.currentHTML=document.body.insertBefore(g,document.body.firstChild)};
CPopupDOM.prototype.removeHTML=function(){this.currentHTML&&(document.body.removeChild(this.currentHTML),this.currentHTML=null)};var s_aSymbolData,s_aPaylineCombo,s_aSymbolWin,s_aRandSymbols,s_aSymbolClipTextures,winMulti;
function CSlotSettings(){this._init=function(){this._initSymbolSpriteSheets();this._initPaylines();this._initSymbolWin();this._initSymbolsOccurence()};this._initSymbolSpriteSheets=function(){s_aSymbolClipTextures=[];winMulti=[];for(var c=0;c<NUM_SYMBOLS;c++)s_aSymbolClipTextures[c]=[],s_aSymbolClipTextures[c].push(PIXI.Texture.fromFrame("symbol_"+c)),s_aSymbolClipTextures[c].push(PIXI.Texture.fromFrame("symbol_"+c+"_blur"))};this._initPaylines=function(){s_aPaylineCombo=[[{row:1,col:0},{row:1,col:1},
{row:1,col:2},{row:1,col:3},{row:1,col:4}],[{row:0,col:0},{row:0,col:1},{row:0,col:2},{row:0,col:3},{row:0,col:4}],[{row:2,col:0},{row:2,col:1},{row:2,col:2},{row:2,col:3},{row:2,col:4}],[{row:0,col:0},{row:1,col:1},{row:2,col:2},{row:1,col:3},{row:0,col:4}],[{row:2,col:0},{row:1,col:1},{row:0,col:2},{row:1,col:3},{row:2,col:4}],[{row:1,col:0},{row:0,col:1},{row:0,col:2},{row:0,col:3},{row:1,col:4}],[{row:1,col:0},{row:2,col:1},{row:2,col:2},{row:2,col:3},{row:1,col:4}],[{row:0,col:0},{row:0,col:1},
{row:1,col:2},{row:2,col:3},{row:2,col:4}],[{row:2,col:0},{row:2,col:1},{row:1,col:2},{row:0,col:3},{row:0,col:4}],[{row:1,col:0},{row:2,col:1},{row:1,col:2},{row:0,col:3},{row:1,col:4}],[{row:2,col:0},{row:0,col:1},{row:1,col:2},{row:2,col:3},{row:1,col:4}],[{row:0,col:0},{row:1,col:1},{row:1,col:2},{row:1,col:3},{row:0,col:4}],[{row:2,col:0},{row:1,col:1},{row:1,col:2},{row:1,col:3},{row:2,col:4}],[{row:0,col:0},{row:1,col:1},{row:0,col:2},{row:1,col:3},{row:0,col:4}],[{row:2,col:0},{row:1,col:1},
{row:2,col:2},{row:1,col:3},{row:2,col:4}],[{row:1,col:0},{row:1,col:1},{row:0,col:2},{row:1,col:3},{row:1,col:4}],[{row:1,col:0},{row:1,col:1},{row:2,col:2},{row:1,col:3},{row:1,col:4}],[{row:0,col:0},{row:0,col:1},{row:2,col:2},{row:0,col:3},{row:0,col:4}],[{row:2,col:0},{row:2,col:1},{row:0,col:2},{row:2,col:3},{row:2,col:4}],[{row:0,col:0},{row:2,col:1},{row:2,col:2},{row:2,col:3},{row:0,col:4}]]};this._initSymbolWin=function(){s_aSymbolWin=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,
0,0,0,0],[0,0,125,150,500],[0,0,80,200,400],[0,0,60,150,300],[0,0,60,150,300],[0,0,20,50,100],[0,0,15,30,75],[0,0,10,25,50],[0,0,5,10,25]]};this._initSymbolsOccurence=function(){s_aRandSymbols=[];for(var c=1;c<=NUM_SYMBOLS;c++)s_aRandSymbols.push(c)};this._init()};function CSplashScreen(c){var g=null,n=null,q=null,p=null,t=null,z=[],w=null,l=null,e=null,h=1.5,r=!1,E=!1,I=this,u=this.toScore=0,v=0;this.curWinLevel=WinLevel.NONE;this.winSoundTime=0;this._init=function(){w=new PIXI.Container;l=new PIXI.Container;c.addChild(l);n=new PIXI.Graphics;n.beginFill(0,.55);n.drawRect(0,-200,CANVAS_WIDTH,CANVAS_HEIGHT+200);n.on("pointerdown",this.touch);l.addChild(n);q=new PIXI.spine.Spine(pixiLoader.resources.big_win.spineData);q.position.set(0,-100);q.scale.set(1);p=
new PIXI.spine.Spine(pixiLoader.resources.coin.spineData);p.position.set(0,-100);p.state.setAnimation(0,"play01",!0);p.scale.set(1);g=new PIXI.Sprite(PIXI.Texture.EMPTY);g.anchor.set(.5);g.origin={x:0,y:-50};g.addChild(p);g.addChild(q);w.position.set(CANVAS_WIDTH/2,CANVAS_HEIGHT/2);w.addChild(g);w.sWidth=1.6*q.width;z.push(w);l.addChild(w);t=new TickNumber(g,"150px font_winnerscore");t.setFixed(FIXED_DIGIT);t.centered(0,150);this.onResize();this.reset()};this.addCoinSpring=function(x){h=4;E=!0};this.enableCoinSpring=
function(x){E=x};this.enableBackgroundRotate=function(x){r=x};this.addBackground=function(x){e=new PIXI.Sprite(x);e.anchor.set(.5);e.position.set(CANVAS_WIDTH/2,CANVAS_HEIGHT/2);l.addChildAt(e,1);e.sWidth=.9*e.width;z.push(e);e.rotation=0;e.alpha=0;e.scale.set(0)};this.onResize=function(){for(var x=VIEW_HEIGHT*s_oMain.ratio/CANVAS_HEIGHT,y=0;y<z.length;y++){var M=z[y];M.sWidth*x>VIEW_WIDTH*s_oMain.ratio?M.scale.set(.3):M.scale.set(1)}};this.hide=function(){p.visible=!1;TweenLite.to(l,1,{alpha:0,ease:Power4.easeIn,
onComplete:this.reset})};this.reset=function(){e&&(e.alpha=0,e.scale.set(0),e.rotation=0);g.position.set(g.origin.x,g.origin.y);t.score=0;t.setVisible(!1);u=1;n.alpha=0;q.scale.set(2.5);q.alpha=0;p.visible=!1;l.visible=!1};this.instantShow=function(x,y){y||(y=0);q.texture=x;l.visible=!0;t.score=y;n.alpha=1;e&&(e.scale.set(1),e.alpha=1,r&&(e.rotation=3));q.alpha=1;q.scale.set(1);t.showNumber(t.score,0)};this.show=function(x,y,M){switch(M){case "win_bigwin":this.winSoundTime=8E3;break;case "win_superwin":this.winSoundTime=
12E3;break;case "win_megawin":this.winSoundTime=14E3}v=setTimeout(function(){s_oSoundMgr.playOneShot("win end")},this.winSoundTime-1E3);l.visible=!0;l.alpha=1;t.score=y;u=0;this.toScore=y;s_oSoundMgr.playOneShot("show_total_win");y=new TimelineLite;y.to(n,.5,{alpha:1});e&&(y.to(e.scale,.5,{x:1,y:1},"SPR_BG","-=0.25"),y.to(e,.5,{alpha:1},"SPR_BG"),r&&y.add(function(){TweenLite.to(e,6,{rotation:3})},"SPR_BG"));E&&y.add(function(){p.visible=!0;s_oSoundMgr.playOneShot("show_coin_spring")});M&&y.add(function(){s_oSoundMgr.playOneShot(M)});
y.add(function(){q.alpha=1;console.log(x);q.state.setAnimation(0,x,!0)});y.to(q.scale,1.2,{x:1,y:1,ease:Elastic.easeOut.config(1,.5)});h=(this.winSoundTime-2E3)/1E3;y.add(function(){n.interactive=skip<TURBO;u=1;s_oSoundMgr.loopShotInTime("count up",h);t.showNumber(t.score,h);skip!=TURBO&&skip!=NONE_TO_TURBO||I.touch()},"-=0.5")};this.update=function(){};this.touch=function(){n.interactive=!1;1==u&&(t.showNumber(I.toScore,.01),clearTimeout(v),s_oSoundMgr.stopSoundById("win_bigwin"),s_oSoundMgr.stopSoundById("win_superwin"),
s_oSoundMgr.stopSoundById("win_megawin"),s_oSoundMgr.stopSoundById("count up"),s_oSoundMgr.stopSoundById("count end"),s_oSoundMgr.playOneShot("win end"),I.hide(),s_oGame.onJackpotShowEnd(!0))};this.setBlackScreenInteractive=function(x){n.interactive=x};this._init();return this};function CStaticSymbolCell(c,g,n,q,p,t,z){var w,l,e,h=0,r=[],E,I=!1,u=!0;this.reAdd=function(){w.removeChild(E);w.addChild(E)};this._init=function(v,x,y,M,ca){w=ca;l=v;e=x;E=new PIXI.Container;E.x=y;E.y=M;E.index=v*NUM_REELS+x;E.visible=!1;for(v=0;v<NUM_SYMBOLS;v++)(x=pixiLoader.resources["symbol_"+v+"_spine"])?(r[v]=new PIXI.spine.Spine(x.spineData),r[v].state.addListener({event:this.onEvent,complete:this.onComplete,start:this.onStart,end:this.onEnd}),r[v].scale.set(p),r[v].state.setAnimation(0,
"idle",!1),E.addChild(r[v])):r[v]=null;w.addChild(E)};this.onClipComplete=function(){u&&TweenLite.to(E.scale,.1,{x:1,y:1})};this.unload=function(){};this.setVisible=function(v){for(var x=0;x<r.length;x++)r[x]&&(r[x].visible=v)};this.reset=function(){u=!0;I=!1;for(var v=0;v<r.length;v++)r[v]&&(r[v].alpha=1,r[v].visible=!1);E.scale.set(1);E.visible=!1};this.unfocusSymbol=function(){I||(null!=r[h]&&(r[h].alpha=.4,h===WILD_SYMBOL_ID&&r[h].state.setAnimation(0,"idle",!1)),null!=r[s_oSlotData.mysterySymbol]&&
(r[s_oSlotData.mysterySymbol].alpha=.4))};this.setRescale=function(v){u=v};this.play=function(v){I&&(v&&(1<WIN_SYMBOL_SIZE&&this.reAdd(),TweenLite.to(E.scale,.1,{x:WIN_SYMBOL_SIZE,y:WIN_SYMBOL_SIZE})),r[h].state.setAnimation(0,"play",!1))};this.playSpecific=function(v,x){I&&r[h].state.setAnimation(0,v,x?x:!1)};this.addAnimation=function(v,x,y){r[h].state.addAnimation(0,v,x?x:!1,y)};this.showSymbol=function(v){h=v;h>=r.length||0>h?(h=0,trace("***Symbol Id Error:{0}, Range:{1}**".format(v,r.length))):
null!=r[h]&&(r[h].state.setAnimation(0,"idle",!1),r[h].visible=!0,E.visible=!0)};this.showMysterySymbol=function(v){-1!==s_oSlotData.mysterySymbol&&(r[s_oSlotData.mysterySymbol].state.setAnimation(0,"idle",!1),r[s_oSlotData.mysterySymbol].visible=!0,E.visible=!0);h=v};this.setPlayDirty=function(){I=!0};this._init(c,g,n,q,t);this.isShow=function(){return I};this.getShowSymbolId=function(){return h};this.getPosition=function(){return E.position};this.getVisible=function(){return r.some(function(v){return v.visible})};
this.playSymbolAnimationFx=function(v,x,y){setTimeout(function(){E.visible||(v===WILD_SYMBOL_ID&&s_oSoundMgr.playOneShot("wild_show"),h=v,E.visible=!0,r[v].visible=!0,r[v].state.setAnimation(0,"hold",!1),setTimeout(function(){y[e].forEach(function(M){return M.showSymbol(l)});y[e+NUM_REELS].forEach(function(M){return M.showSymbol(l)})},550),x&&r[v].state.addAnimation(0,"play_free",!0,0))},100)};this.setAlpha=function(v){null!=r[h]&&(r[h].alpha=v)}};function CTwoWayButton(c,g,n,q){var p=null,t=null,z=null,w=null,l=null;this._init=function(){t=new PIXI.Sprite(g);t.anchor.set(.5);q.addChild(t);p=new CButton(0,0,c,t);p.setAnchor(0,.5);z=new CButton(0,0,n,t);z.setAnchor(1,.5);p.setPosition(-t.width/2-8,0);z.setPosition(t.width/2+8,0);p.addEventListener(ON_MOUSE_UP,this.onLeftClick,this);z.addEventListener(ON_MOUSE_UP,this.onRightClick,this)};this.addChild=function(e){t.addChild(e)};this.setBackPanel=function(e){e&&(_sprFront=new PIXI.Sprite(t.texture),
_sprFront.anchor.set(.5),t.addChild(_sprFront),t.texture=e)};this.setPosition=function(e,h){t.position.x=e;t.position.y=h};this.addEventListener=function(e,h){switch(e){case "LEFT":w=h;break;case "RIGHT":l=h}};this.onLeftClick=function(){w&&w()};this.onRightClick=function(){l&&l()};this.enable=function(){p.enable();z.enable()};this.disable=function(){p.disable();z.disable()};this.setLeftPosition=function(e,h){p.setPosition(e,h)};this.setRightPosition=function(e,h){z.setPosition(e,h)};this.setCenterScale=
function(e,h){h?t.scale.set(e,h):t.scale.set(e)};this.setTwoWayScale=function(e,h){h?(p.setScale(e,h),z.setScale(e,h)):(p.setScale(e),z.setScale(e))};this.setInteractive=function(e){p.setInteractive(e);z.setInteractive(e)};this._init();return this};var PRELOADER_IMAGE_KEY=[{key:"loading_bg",path:"./sprites/loading/{0}/loading_bg_p.jpg"},{key:"loading_idol",path:"./sprites/loading/{0}/loading_idol@2x.png"},{key:"loading_idol_mask",path:"./sprites/loading/{0}/loading_idol_mask@2x.png"},{key:"loading_logo",path:"./sprites/loading/{0}/loading_logo.json"},{key:"loading_bar",path:"./sprites/loading/{0}/bar_par.json"}],IMAGE_FILES_KEY=[{key:"bg_main",path:"./sprites/{0}/common/bg.png"},{key:"payline",path:"./sprites/{0}/common/anim/payline/payline.json"},
{key:"bg",path:"./sprites/{0}/common/anim/bg.json"},{key:"bg_fx1",path:"./sprites/{0}/common/anim/bg_fx1.json"},{key:"bg_fx2",path:"./sprites/{0}/common/anim/bg_fx2.json"},{key:"bg_fx3",path:"./sprites/{0}/common/anim/bg_fx3.json"},{key:"big_win_fx",path:"./sprites/{0}/common/anim/big_win_fx.json"},{key:"big_win_fx2",path:"./sprites/{0}/common/anim/big_win_fx2.json"},{key:"spin",path:"./sprites/{0}/common/anim/spin.json"},{key:"big_win",path:"./sprites/{0}/common/anim/big_win.json"},{key:"coin",path:"./sprites/{0}/common/anim/coin.json"},
{key:"send_bonus_en",path:"./sprites/{0}/common/send_bonus_en.png"},{key:"but_collect_en",path:"./sprites/{0}/common/but_collect_en.png"},{key:"send_bonus_id",path:"./sprites/{0}/common/send_bonus_en.png"},{key:"but_collect_id",path:"./sprites/{0}/common/but_collect_en.png"},{key:"send_bonus_ko",path:"./sprites/{0}/common/send_bonus_en.png"},{key:"but_collect_ko",path:"./sprites/{0}/common/but_collect_en.png"},{key:"send_bonus_zh-cn",path:"./sprites/{0}/common/send_bonus_en.png"},{key:"but_collect_zh-cn",
path:"./sprites/{0}/common/but_collect_en.png"},{key:"send_bonus_vi",path:"./sprites/{0}/common/send_bonus_en.png"},{key:"but_collect_vi",path:"./sprites/{0}/common/but_collect_en.png"},{key:"send_bonus_th",path:"./sprites/{0}/common/send_bonus_en.png"},{key:"but_collect_th",path:"./sprites/{0}/common/but_collect_en.png"},{key:"send_bonus_ms",path:"./sprites/{0}/common/send_bonus_en.png"},{key:"but_collect_ms",path:"./sprites/{0}/common/but_collect_en.png"},{key:"send_bonus_ph",path:"./sprites/{0}/common/send_bonus_en.png"},
{key:"but_collect_ph",path:"./sprites/{0}/common/but_collect_en.png"},{key:"board_win",path:"./sprites/{0}/common/anim/board_win.json"},{key:"big_frame",path:"./sprites/{0}/common/anim/big_frame.json"},{key:"winframe",path:"./sprites/{0}/common/anim/winframe.json"},{key:"free_transfer",path:"./sprites/{0}/common/anim/free_transfer.json"},{key:"free_end",path:"./sprites/{0}/common/anim/free_end.json"},{key:"free_retrigger",path:"./sprites/{0}/common/anim/free_retrigger.json"},{key:"free_fx",path:"./sprites/{0}/common/anim/free_fx.json"},
{key:"buy",path:"./sprites/{0}/common/anim/buy.json"},{key:"symbol_0_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_0.json"},{key:"symbol_1_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_1.json"},{key:"symbol_2_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_2.json"},{key:"symbol_3_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_3.json"},{key:"symbol_4_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_4.json"},{key:"symbol_5_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_5.json"},
{key:"symbol_6_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_6.json"},{key:"symbol_7_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_7.json"},{key:"symbol_8_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_8.json"},{key:"symbol_9_spine",path:"./sprites/{0}/common/anim/symbolanim/symbol_9.json"},{key:"fsm_btn_ok",path:"./sprites/freespin/btn_ok.png"},{key:"fsm_spin_btn",path:"./sprites/freespin/fsm_spin_btn.png"},{key:"fsm_totally_en",path:"./sprites/freespin/fsm_totally_en.png"},
{key:"fsm_totally_id",path:"./sprites/freespin/fsm_totally_id.png"},{key:"fsm_totally_zh-cn",path:"./sprites/freespin/fsm_totally_zh-cn.png"},{key:"fsm_welcome",path:"./sprites/freespin/fsm_welcome.png"},{key:"in_game_menu_on",path:"./extensions/sprites/on_new.png"},{key:"in_game_menu_off",path:"./extensions/sprites/off_new.png"},{key:"in_game_menu_dot",path:"./extensions/sprites/dot.png"},{key:"in_game_menu_promotion_board",path:"./extensions/sprites/promotion_board_new.png"},{key:"button_favorites",
path:"./extensions/sprites/icon_favorite.png"},{key:"btn_buy_bet_increase",path:"./sprites/common/btn_+.png"},{key:"btn_buy_bet_reduce",path:"./sprites/common/btn_-.png"}],IMAGE_FILES="./sprites/{0}/common/symbol.json ./sprites/{0}/common/wheel.json ./sprites/{0}/common/spritesheet.json ./sprites/{0}/common/spritesheet_UI.json ./sprites/{0}/common/anim/coin_rotation.json ./sprites/{0}/common/waiting@1x.json ./sprites/{0}/common/font/font.fnt ./sprites/{0}/common/font/font_winnerscore.fnt ./sprites/{0}/common/font/font_bonus.fnt ./sprites/{0}/common/font/font_btn_cost.fnt ./sprites/{0}/common/font/font_win.fnt ./sprites/{0}/common/font/font_totalwin.fnt ./sprites/{0}/common/font/font_freegame.fnt ./sprites/freespin/font/font_spin_num.fnt ./sprites/freespin/font/font_totally_num.fnt".split(" "),
PRELOADER_IMAGE_KEY_HALF=[],IMAGE_FILES_KEY_HALF=[],IMAGE_FILES_HALF=[],HTTP_GET_FILES=[{key:"payTable",path:"/gameInformation/game/{0}/payTable.html"},{key:"setting",path:"/gameInformation/game/{0}/setting.txt"},{key:"totalbet",path:"/gameInformation/game/{0}/totalbet.txt"},{key:"ratio",path:"/gameInformation/game/{0}/ratio.txt"},{key:"lang",path:"/gameInformation/game/32slot/message.txt"},{key:"css",path:"./css/{1}/spritesheet_html.png"},{key:"ql",path:"./data/quicklobby.txt"},{key:"emitter_main",
path:"./sprites/{1}/emitter_main.json"},{key:"common",path:"/webAssets/game/common.json"}],HTTP_GET_FILES_LOCAL=[{key:"payTable",path:"./data/{0}/payTable.html"},{key:"setting",path:"./data/{0}/setting.txt"},{key:"totalbet",path:"./data/{0}/totalbet.txt"},{key:"ratio",path:"./data/{0}/ratio.txt"},{key:"lang",path:"./data/message.txt"},{key:"css",path:"./css/{1}/spritesheet_html.png"},{key:"ql",path:"./data/quicklobby.txt"},{key:"emitter_main",path:"./sprites/{1}/emitter_main.json"},{key:"common",
path:"./data/common.json"}],SOUND_FILES_KEY=[{key:"bgm_free",path:"./sounds/{0}/bgm_free.mp3"},{key:"bgm_game",path:"./sounds/{0}/bgm_game.mp3"},{key:"bwf",path:"./sounds/{0}/bwf.mp3"},{key:"count_up",path:"./sounds/{0}/count_up.mp3"},{key:"count_end",path:"./sounds/{0}/count_end.mp3"},{key:"press_but",path:"./sounds/all/press_but.mp3"},{key:"press_spin",path:"./sounds/{0}/press_spin.mp3"},{key:"reel_stop",path:"./sounds/{0}/reel_stop.mp3"},{key:"show_coin_spring",path:"./sounds/all/show_coin_spring.mp3"},
{key:"win_bigwin",path:"./sounds/all/win_bigwin.mp3"},{key:"win_superwin",path:"./sounds/all/win_superwin.mp3"},{key:"win_megawin",path:"./sounds/all/win_megawin.mp3"},{key:"win end",path:"./sounds/all/win end.mp3"},{key:"trigger_free",path:"./sounds/all/trigger_free.mp3"},{key:"win_symbol",path:"./sounds/{0}/win_symbol.mp3"},{key:"win_wild",path:"./sounds/{0}/win_wild.mp3"},{key:"win_sprayMoney",path:"./sounds/{0}/win_sprayMoney.mp3"},{key:"game_transfer",path:"./sounds/{0}/game_transfer.mp3"},{key:"free_retrigger",
path:"./sounds/{0}/free_retrigger.mp3"},{key:"free_end",path:"./sounds/{0}/free_end.mp3"},{key:"buy_freegame",path:"./sounds/{0}/buy_feature.mp3"},{key:"after_buy",path:"./sounds/{0}/after_buy.mp3"},{key:"sc_show_1",path:"./sounds/{0}/sc_show_1.mp3"},{key:"sc_show_2",path:"./sounds/{0}/sc_show_2.mp3"},{key:"sc_show_3",path:"./sounds/{0}/sc_show_3.mp3"},{key:"sc_show_4",path:"./sounds/{0}/sc_show_4.mp3"},{key:"sc_show_5",path:"./sounds/{0}/sc_show_5.mp3"},{key:"wild_show",path:"./sounds/{0}/wild_show.mp3"},
{key:"payline",path:"./sounds/{0}/payline.mp3"}];Array.prototype.contains=function(c){for(var g=0;g<this.length;g++)if(this[g]==c)return!0;return!1};Number.prototype.toFixedNoRound=function(c){return this.toString().match(new RegExp("^-?\\d+(?:.\\d{0,"+(c||-1)+"})?"))[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};String.prototype.toFixedNoRound=function(c){return this.toString().match(new RegExp("^-?\\d+(?:.\\d{0,"+(c||-1)+"})?"))[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};
String.prototype.format=function(){var c=this,g;for(g in arguments)c=c.replace("{"+g+"}",arguments[g]);return c};PIXI.Sprite.prototype.setBackPanel=function(c){c&&(_sprFront=new PIXI.Sprite(this.texture),_sprFront.anchor.set(.5),this.addChild(_sprFront),this.texture=c)};PIXI.extras.BitmapText.prototype.centered=function(c,g){this.position.x=c-this.textWidth/2;null!=g&&(this.y=-(this.height/2).toFixed(0)+g)};
PIXI.extras.BitmapText.prototype.xCentered=function(c){this.updateTransform();this.position.x=c-this.textWidth/2};
var GS_IDLE=0,GS_SPINNING=1,GS_WAIT_CREDIT=2,GS_BONUS=3,GS_FREE_GAME=4,GS_SYMBOL_ANIM=5,GS_BONUS_WAIT_CREDIT=6,GS_WAIT_IDLE=7,s_oGame,s_oTweenController,s_oHudBottomSprite,s_BlackScreen=null,s_AlphaBlackScreen=null,s_WhiteScreen=null,s_oCharm=null,_iCurBet=0,_iCoinValue=0,_iLastLineActive=0,toggleFull=!1,muteAudio=!1,WinLevelRate={WIN:20,BIG_WIN:40,SUPER_WIN:60,MEGA_WIN:80},bonusSymbol=4,sevenSymbol=2,sevenSymbol2=3,freeLagTime=0,NONE=0,QUICK=1,TURBO=2,NONE_TO_TURBO=3,skip=NONE,frameTopPosition=0,
pixiLoader=PIXI.Loader?PIXI.Loader.shared:PIXI.loader,WinLevel={NONE:"NONE",WIN:"WIN",BIG_WIN:"BIG_WIN",SUPER_WIN:"SUPER_WIN",MEGA_WIN:"MEGA_WIN"},totalBet,totalBetSwitch=1,userInterface,promotePage,inGameMenuPage;
function Game(){function c(a){var b=0,f=skip===NONE?NORMAL_STOP_EACH_REEL_TIME:QUICK_STOP_EACH_REEL_TIME;if(a!==NUM_REELS){switch(s_oSlotData.WaitWin){case 1:2<=a&&(!H||a!==NUM_REELS-1)&&g(a)&&(b=CHANCE_WHEEL_TIME-f,s_oGame.showBigFrame(a),g(a)&&s_oSoundMgr.playOneShot("bwf"));break;case 2:4<=a&&(b=CHANCE_WHEEL_TIME-f,s_oGame.showBigFrame(a),s_oSoundMgr.playOneShot("bwf"));break;case 3:2<=a&&g(a)&&(b=CHANCE_WHEEL_TIME-f,s_oGame.showBigFrame(a),g(a)&&s_oSoundMgr.playOneShot("bwf"))}setTimeout(function(){p.includes(a)||
(p.push(a),a++,c(a))},f+b)}}function g(a){for(var b=0,f=0;f<a;f++)for(var d=1;d<NUM_ROWS-1;d++)s_oSlotData.ReelSymbols[f][d]===SCATTER_SYMBOL_ID&&b++;return 2<=b}function n(a){for(var b={$jscomp$loop$prop$i$46$69:1};b.$jscomp$loop$prop$i$46$69<NUM_ROWS-1;b={$jscomp$loop$prop$i$46$69:b.$jscomp$loop$prop$i$46$69},b.$jscomp$loop$prop$i$46$69++)s_oResultDATA.ReelSymbols[a][b.$jscomp$loop$prop$i$46$69]===SCATTER_SYMBOL_ID?(B.hideStaticScatter(C[a],b.$jscomp$loop$prop$i$46$69),B.hideStaticScatter(C[a+NUM_REELS],
b.$jscomp$loop$prop$i$46$69),A[b.$jscomp$loop$prop$i$46$69*NUM_REELS+a].playSymbolAnimationFx(SCATTER_SYMBOL_ID,!1,C),B.playScatterFallAnimation(b.$jscomp$loop$prop$i$46$69*NUM_REELS+a,C,a,b.$jscomp$loop$prop$i$46$69)):s_oResultDATA.ReelSymbols[a][b.$jscomp$loop$prop$i$46$69]===WILD_SYMBOL_ID&&H&&!s_oSlotData.MainToFreeGame&&(A[b.$jscomp$loop$prop$i$46$69*NUM_REELS+a].getVisible()||setTimeout(function(f){return function(){C[a].forEach(function(d){return d.hideSymbol(f.$jscomp$loop$prop$i$46$69)});
C[a+NUM_REELS].forEach(function(d){return d.hideSymbol(f.$jscomp$loop$prop$i$46$69)})}}(b),100),A[b.$jscomp$loop$prop$i$46$69*NUM_REELS+a].playSymbolAnimationFx(WILD_SYMBOL_ID,H&&!s_oSlotData.MainToFreeGame,C))}var q=0,p=[],t,z,w,l,e,h,r,E,I,u,v,x=!1,y,M,ca,D=0,F=0,da,C,A=[],ja=[],ua;userInterface=[];var V=[],W=0,ka=null,Z=null,K=null,J=0,O=!1,R=!1,va=!1,Ea=0,aa=0,H=!1,ba=null,X=null,G=null,ha=null,la=null,S=!1,ma=0,oa=!1,ya=0,ia=!1,pa=!1,Fa=0,na=!1,qa=!1,T=0,ea=!1,N=0,Aa=MIN_REEL_LOOPS,ra=!1,Ca=
0,Da=0;this.slotRatio=0;var sa=[[3,5,7],[5,6,1],[1,7,4],[5,7,6],[1,2,5]],U=[],Y=null,ta=null,za=0,P=!0,fa=!1,Ba=!1,wa=0,Ga=null,L=null,B=null;this._init=function(){this.gameTimer();t=new PIXI.Container;ta=new PIXI.Graphics;ta.beginFill(0,1);ta.drawRect(HALF_CANVAS_WIDTH-VIEW_WIDTH/2,-200,VIEW_WIDTH,VIEW_HEIGHT+200);ta.endFill();e=new PIXI.Container;e.position.set(CANVAS_WIDTH/2,CANVAS_HEIGHT/2);z=new PIXI.Container;z.position.set(CANVAS_WIDTH/2+GAME_FRAME_OFFSET.x,CANVAS_HEIGHT/2+GAME_FRAME_OFFSET.y);
l=new PIXI.Container;l.position.set(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+GAME_FRAME_OFFSET.y);w=new PIXI.Container;h=new PIXI.Container;r=new PIXI.Container;E=new PIXI.Container;I=new PIXI.Container;u=new PIXI.Container;v=new PIXI.Container;h.position.set(0,-10);z.addChild(h);z.addChild(r);z.addChild(I);z.addChild(E);z.addChild(v);t.addChild(w);t.addChild(z);t.addChild(l);mainContainer.addChildAt(t,0);mainContainer.addChild(e);Y=new CollectExtraAward(s_oTextureLibrary.getTexture("send_bonus_"+CMain_Language),
{font:"40px font_bonus"},s_oTextureLibrary.getTexture("but_collect_"+CMain_Language),l);y=GS_IDLE;ca=M=0;ua=[0,1,2,3,4];p=[ua[0]];da=_iCurBet*_iLastLineActive;s_oTweenController=new CTweenController;B=new FeatureGame;ka=new PortraitUI(w,B);userInterface.push(ka);this.createFreeGameAnimation();this._initReels();this._initStaticSymbols();if(Global.Coin<da)for(var a=0;a<userInterface.length;a++)userInterface[a].disableSpin();t.on("pointerdown",this.touch);x=!0;D=s_oSlotData.coinValueDefaultIndex;_iCoinValue=
CV_TYPE[D];F=s_oSlotData.betDefaultIndex;_iCurBet=BET_TYPE[F];_iLastLineActive=s_oSlotData.Line;totalBet=[];a=[];for(var b=0;b<BET_TYPE.length;b++)for(var f=s_oSlotData.betAvailableIdx;f<CV_TYPE.length;f++)totalBet.push((new Decimal(BET_TYPE[b])).mul(CV_TYPE[f]).mul(_iLastLineActive).toFixed(FIXED_DIGIT)),a.push(CV_TYPE[f]);var d=[];totalBet.forEach(function(k){-1==d.indexOf(k)&&d.push(k)});totalBet=d;totalBet.sort(function(k,m){return k-m});K=new CSplashScreen(w);K.addCoinSpring();K.enableCoinSpring(!0);
if("0"==s_aryWindowSearch.HomeURL)for(a=0;a<userInterface.length;a++)userInterface[a].hideHomeButton();if(!s_aryWindowSearch.ql||"0"==s_aryWindowSearch.ql)for(a=0;a<userInterface.length;a++)userInterface[a].hideQuickLobbyButton();if(!s_aryWindowSearch.BetRecord||"N/A"==s_aryWindowSearch.BetRecord)for(a=0;a<userInterface.length;a++)userInterface[a].hideRecordButton();s_BlackScreen=new PIXI.Graphics;s_BlackScreen.beginFill(0,1);s_BlackScreen.drawRect(-CANVAS_WIDTH/2,-820,CANVAS_WIDTH,1640);s_WhiteScreen=
new PIXI.Graphics;s_WhiteScreen.beginFill(16777215,1);s_WhiteScreen.drawRect(-CANVAS_WIDTH/2,-820,CANVAS_WIDTH,1640);s_WhiteScreen.alpha=0;s_AlphaBlackScreen=new PIXI.Graphics;s_AlphaBlackScreen.beginFill(0,.8);s_AlphaBlackScreen.drawRect(-CANVAS_WIDTH/2,-820,CANVAS_WIDTH,1640);s_AlphaBlackScreen.alpha=0;e.addChild(s_BlackScreen);e.addChild(s_WhiteScreen);e.addChild(s_AlphaBlackScreen);s_oCharm=new Charm;s_oCharm.fadeOut(s_BlackScreen,1,function(){setTimeout(function(){for(var k=0;k<userInterface.length;k++)userInterface[k].enableSpin(),
userInterface[k].enableGuiButtons();document.addEventListener("keydown",function(m){if(49===m.keyCode&&DEBUG_MODE)s_oGame.onCheatUI();50===m.keyCode&&DEBUG_MODE&&(s_oResultDATA.BonusSheet=[],s_oResultDATA.BonusSheet.push(5E3),s_oResultDATA.BonusSheet.push(2E3),s_oResultDATA.BonusSheet.push(3E3),s_oGame.onBonusShowEnd());51===m.keyCode&&DEBUG_MODE&&(J=5,s_oGame.onFreeGameShowEnd());52===m.keyCode&&DEBUG_MODE&&ja[STATIC_SYMBOL_GROUP[0][0]].play();if(32===m.keyCode&&!userInterface[0].getPopupBackgroundVisible())if(console.log("_iCurState",
y),0===y||2===y)s_oGame.onSpin();else if(1===y){if(R)s_oGame.onStop();s_oGame._onStopAuto()}else 5===y&&s_oGame._onStopAuto()})},0)});ba=new CPopGameRules;X=new PopupPayTable;G=new CPopSetting;ha=new CPopRatio;la=new CPopTotalbet;this.onResize();this.refreshInterface();for(a=0;a<NUM_REELS*NUM_ROWS+1;a++)u.children[a]=I.children[a]};this.onCheatUI=function(){var a=prompt("\u8acb\u8f38\u5165\u958b\u734eId","2");null!=a&&o_Protocol.Protocol_GameSlot.Send999(parseInt(a),0,0)};this.onResize=function(){ka.setVisible(!0);
isMobile&&1.78>window.innerHeight/window.innerWidth?(mainContainer.removeChild(ta),t.mask=null):(mainContainer.addChild(ta),t.mask=ta);var a=VIEW_WIDTH/(s_oMain.ratio*SLOT_STAGE_WIDTH_MOBILE)+.05;z.position.set(CANVAS_WIDTH/2,CANVAS_HEIGHT/3+27);z.scale.set(a);browserAndDevice.versions.iPad?Y.setContainerScale(.8):Y.setContainerScale(.5);K.onResize();ba.onResize();if(X.existDOM)X.onResize();if(G.existDOM)G.onResize();if(la.existDOM)la.onResize();if(promotePage)promotePage.onResize();if(inGameMenuPage)inGameMenuPage.onResize(!0)};
this.refreshInterface=function(){for(var a=0;a<userInterface.length;a++)userInterface[a].refreshWinText(0),userInterface[a].refreshCoinValue(_iCoinValue),userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive),userInterface[a].refreshBet(_iCurBet),userInterface[a].refreshNumLines(_iLastLineActive),userInterface[a].refreshJP(s_oResultDATA.JP3,s_oResultDATA.JP2,s_oResultDATA.JP1,s_oResultDATA.JP0);this.UpdateCoin()};this.unload=function(){};this._initReels=function(){C=userInterface[0].getReelColumn()};
this.deviceorientation=function(a){};this.showBigFrame=function(a){H?s_oSoundMgr.setVolume("bgm_free",.3):s_oSoundMgr.shiftMusicVolume(.3);for(var b=0;b<userInterface.length;b++)userInterface[b].showBigFrame(a);for(b=0;b<a;b++)for(var f=0;f<C[b].length;f++)C[b][f].setAlpha(.4),C[b+NUM_REELS][f].setAlpha(.4)};this._initStaticSymbols=function(){A=userInterface[0].getDynamicSymbol();ja=userInterface[0].getWinFrame();Z=new CWildReel(r,null)};this.showWild=function(a){Z.play(a,s_oResultDATA.WildType);
switch(WILD_TYPE){case 103:A[a].setVisible(!1);A[a+NUM_REELS].setVisible(!1);A[a+2*NUM_REELS].setVisible(!1);this.hideReelColumnSymbol(a);this.hideReelColumnSymbol(a+NUM_REELS);this.hideReelColumnSymbol(a+2*NUM_REELS);break;case 202:A[a].setVisible(!1);A[a+1].setVisible(!1);A[a+NUM_REELS].setVisible(!1);A[a+NUM_REELS+1].setVisible(!1);this.hideReelColumnSymbol(a);this.hideReelColumnSymbol(a+1);this.hideReelColumnSymbol(a+NUM_REELS);this.hideReelColumnSymbol(a+NUM_REELS+1);break;case 1234:switch(A[a].setVisible(!1),
A[a+1].setVisible(!1),this.hideReelColumnSymbol(a),this.hideReelColumnSymbol(a+1),s_oResultDATA.WildType){case 1:A[a+2].setVisible(!1);this.hideReelColumnSymbol(a+2);break;case 2:A[a+2].setVisible(!1),this.hideReelColumnSymbol(a+2),A[a+3].setVisible(!1),this.hideReelColumnSymbol(a+3)}}};this.ReceiveStopMsg=function(){R=!0;skip<TURBO&&(t.interactive=!0);console.log("To<<<<<<<<<<<<<<",Date.now());for(var a=0;a<userInterface.length;a++)userInterface[a].enableBtnStop(!0);if(skip>=TURBO)s_oGame.onStop();
c(1)};this.calculateScatterNum=function(a){for(var b=0,f=a;f<=a;f++)for(var d=1;d<NUM_ROWS-1;d++)s_oSlotData.ReelSymbols[f][d]===SCATTER_SYMBOL_ID&&(fa=!0);if(!0===fa){fa=!1;for(f=0;f<=a;f++)for(d=1;d<NUM_ROWS-1;d++)s_oSlotData.ReelSymbols[f][d]===SCATTER_SYMBOL_ID&&b++;return b}return!1};this._generateRandSymbols=function(a){var b=[];if(H)for(var f=0;f<NUM_ROWS;f++)b[f]=0<a&&a<NUM_REELS-1?Math.floor(Math.random()*NUM_SYMBOLS):Math.floor(Math.random()*(NUM_SYMBOLS-1));else for(a=0;a<NUM_ROWS;a++)b[a]=
Math.floor(Math.random()*NUM_SYMBOLS);return b};this.reelArrived=function(a,b){if(R&&(va||M>=Aa))if(p.contains(b)){if(C[a].every(function(m){return!1===m.isReadyToStop()})){var f=a;a<NUM_REELS?(f+=NUM_REELS,C[f].forEach(function(m){return m.setReadyToStop()}),C[a].forEach(function(m){B&&B.isFreeReel(m)?m.restart(B.pickScatter(s_oResultDATA.ReelSymbols[a]),!0,a):m.restart(s_oResultDATA.ReelSymbols[a],!0,a)})):(f-=NUM_REELS,C[f].forEach(function(m){return m.setReadyToStop()}),C[a].forEach(function(m){B&&
B.isFreeReel(m)?m.restart(B.pickScatter(s_oResultDATA.ReelSymbols[f]),!0,a):m.restart(s_oResultDATA.ReelSymbols[f],!0,a)}))}n(b)}else{var d=this._generateRandSymbols(a);C[a].forEach(function(m){B&&B.isFreeReel(m)?m.restart(B.pickScatter(d),!1,a):m.restart(d,!1,a)})}else{var k=this._generateRandSymbols(a);C[a].forEach(function(m){B&&B.isFreeReel(m)?m.restart(B.pickScatter(k),!1,a):m.restart(k,!1,a)});0===a&&M++}};this.stopNextReel=function(){ca++;if(0===ca%2&&ca===NUM_REELS*C[0].length*2){for(var a=
0;a<userInterface.length;a++)userInterface[a].setBigFrameAlpha(0);this.allReelStop()}};this.resetReel=function(){M=ca=0;R=va=!1;p=[0]};this.allReelStop=function(){for(var a=this,b=0;b<userInterface.length;b++)userInterface[b].enableBtnStop(!1);this.resetReel();for(b=0;b<C.length;b++)for(var f=0;f<C[b].length;f++)C[b][f].setVisible(!1);for(b=0;b<A.length;b++)null!==A[b]&&(B&&H&&!s_oSlotData.MainToFreeGame?B.isPlay(A[b])||A[b].showSymbol(this.getSymbolIdByPos(b)):A[b].showSymbol(this.getSymbolIdByPos(b)),
Math.floor(b/NUM_REELS)!==NUM_ROWS-1&&0!==Math.floor(b/NUM_REELS)||A[b].reset(),Math.floor(b/NUM_REELS)!==NUM_ROWS-1&&PROTRUDING_SYMBOL.includes(this.getSymbolIdByPos(b))&&!PROTRUDING_SYMBOL.includes(this.getSymbolIdByPos(b+NUM_REELS))&&userInterface[0].dynamicDepthSwap(b));if(0<s_oSlotData.AwardCount)for(b=0;b<A.length;b++)0!==Math.floor(b/NUM_REELS)&&Math.floor(b/NUM_REELS)!==NUM_ROWS-1||A[b].reset();aa=s_oSlotData.TotalWin;for(b=0;b<s_oResultDATA.Way.length;b++)for(f=0;f<s_oResultDATA.Way[b].length;f++)if(0<
s_oResultDATA.Way[b][f]){var d=s_oResultDATA.Way[b][f]-1;d<A.length&&(A[d].setPlayDirty(),ja[d].setShowDirty())}pa&&aa>=Fa&&this._onStopAuto();S&&Global.Coin>=ma&&this._onStopAuto();oa&&Global.Coin<=ya&&this._onStopAuto();na&&3>=s_oResultDATA.AwardID[b]&&this._onStopAuto();ia&&0<s_oResultDATA.BonusPay&&this._onStopAuto();ea&&s_oResultDATA.SubGame_Type&&this._onStopAuto();qa&&0==T&&(qa=!1,this._onStopAuto());Date.now();if(Global.Coin<da)for(b=0;b<userInterface.length;b++)userInterface[b].disableSpin();
H?s_oSoundMgr.setVolume("bgm_free",BGM_DEFAULT_VOLUME):s_oSoundMgr.shiftMusicVolume(BGM_DEFAULT_VOLUME);setTimeout(function(){0<=s_oResultDATA.WildIndex&&a.enterWild1x3Step();a.enterWinAnimStep()},500)};this.enterWild1x3Step=function(){this.showWild(s_oResultDATA.WildIndex)};this.playWinAnimSound=function(){if(0<s_oResultDATA.BonusPay)this.playSymbolSound(4);else if(0<s_oResultDATA.AwardFree)this.playSymbolSound(2);else{for(var a=[],b=[],f=0;f<s_oSlotData.AwardCount;f++)if(0<s_oResultDATA.Way[f][0]){var d=
s_oResultDATA.Way[f][0]-1,k=this.getSymbolIdByPos(d);if(k<=MAX_SYMBOL_SOUND)a.push(k);else{for(var m=0;m<s_oResultDATA.Way[f].length;m++)0<s_oResultDATA.Way[f][m]&&(d=s_oResultDATA.Way[f][m]-1,3===this.getSymbolIdByPos(d)&&a.push(3));b.push(k)}}0<a.length?(a=a[Math.floor(Math.random()*a.length)],this.playSymbolSound(a)):0<b.length&&(a=b[Math.floor(Math.random()*b.length)],this.playSymbolSound(a))}};this.enterWinAnimStep=function(){if(0<s_oResultDATA.TotalWin){var a=2E3;if(skip==TURBO||skip==NONE_TO_TURBO)a=
500;var b=aa>=s_oResultDATA.Bet*s_oResultDATA.Line*s_oResultDATA.CoinValue*WinLevelRate.BIG_WIN;if(H||s_oSlotData.MainToFreeGame)N+=aa;s_oGame.unfocusStaticSymbol();s_oGame.showStaticSymbol();this.playWinAnimSound();0<s_oResultDATA.JPPay?setTimeout(function(){s_oGame.enterSplashAnimStep("JP")},a):b?setTimeout(function(){s_oGame.enterSplashAnimStep("BIG_WIN")},a):s_oSlotData.MainToFreeGame?L.enterFreeGame():s_oSlotData.MainToFreeGame||(3<=s_oSlotData.scatterNum&&!B.getRetrigger()?B.playScatterAnimation(A,
L.winRetrigger.bind(this,a)):setTimeout(s_oGame.onSymbolShowEnd,a));var f=0<N?N:aa;for(a=0;a<userInterface.length;a++)userInterface[a].refreshWinText(f,0,aa),userInterface[a].playMarqueeAnimation(aa>=10*s_oGame.totalBet()),userInterface[a].playWinAnimation(H);setTimeout(function(){for(var d=0;d<userInterface.length;d++)userInterface[d].refreshWinText(f,0,f)},1E3);aa>=10*s_oGame.totalBet()?(s_oSoundMgr.playOneShot("win_sprayMoney"),userInterface.forEach(function(d){return d.winGreaterThanTen()}),H&&
!s_oSlotData.MainToFreeGame?(L.playFreeFxAnimation(0,"big_win",!1),userInterface.forEach(function(d){return d.playBackgroundAnimation(0,"play_free",!1)}),userInterface.forEach(function(d){return d.addBackgroundAnimation(0,"idle_free",!0,0)})):(userInterface.forEach(function(d){return d.playBackgroundAnimation(0,"play",!1)}),userInterface.forEach(function(d){return d.addBackgroundAnimation(0,"idle",!0,0)}))):H&&!s_oSlotData.MainToFreeGame&&L.playFreeFxAnimation(0,"win",!1);y=GS_SYMBOL_ANIM}else if(3<=
s_oSlotData.scatterNum&&!B.getRetrigger())s_oGame.showStaticSymbol(),this.playWinAnimSound(),s_oSlotData.MainToFreeGame?L.enterFreeGame():B.playScatterAnimation(A,L.winRetrigger.bind(this,2E3)),y=GS_SYMBOL_ANIM;else{if(H&&0>=J)this.exitFreeGame();else{y=0<J?GS_FREE_GAME:GS_IDLE;if(y===GS_IDLE&&!1===O)for(a=0;a<userInterface.length;a++)userInterface[a].enableGuiButtons();s_oGame.onRefreshUIButton()}this.showMarquee(s_aData.lang.MSG_JACKPOT_CONDITION[CMain_Language])}P=!0};this.enterSplashAnimStep=
function(a){var b=null,f="";switch(a){case "JP":"grand"==s_oResultDATA.JPId?b=s_oTextureLibrary.getTexture("jp_grand"):"major"==s_oResultDATA.JPId?b=s_oTextureLibrary.getTexture("jp_major"):"minor"==s_oResultDATA.JPId?b=s_oTextureLibrary.getTexture("jp_minor"):"mini"==s_oResultDATA.JPId&&(b=s_oTextureLibrary.getTexture("jp_mini"));f="win_jp";break;case "BIG_WIN":aa<this.totalBet()*WinLevelRate.SUPER_WIN?(f="win_bigwin",b="play01"):aa<this.totalBet()*WinLevelRate.MEGA_WIN?(f="win_superwin",b="play02"):
(f="win_megawin",b="play03")}for(a=0;a<userInterface.length;a++)userInterface[a].playBigWinAnimation();H&&!s_oSlotData.MainToFreeGame&&L.playFreeFxAnimation(0,"big_winloop",!0);setTimeout(function(){if(b){K.show(b,aa,f);var d=skip<TURBO?K.winSoundTime-1E3:4E3;skip<TURBO&&(Ga=setTimeout(function(){K.setBlackScreenInteractive(!1);s_oGame.onJackpotShowEnd()},d))}},2E3)};this.playSymbolSound=function(a){a<=MAX_SYMBOL_SOUND?s_oSoundMgr.playOneShot("symbol_"+a):s_oSoundMgr.playOneShot("win")};this.onRefreshUIButton=
function(){for(var a=0;a<userInterface.length;a++)userInterface[a].setBtnStopVisible(!1),userInterface[a].setAutoStopBtnVisible(O&&0>=J),userInterface[a].setBtnFreeGameVisible(0<J),userInterface[a].setBtnCreditVisible(0>=J&&(0<s_oResultDATA.AwardCount||0<N)&&0==O),userInterface[a].setBtnSpinVisible(0>=s_oResultDATA.AwardCount&&0>=J&&0==O),userInterface[a].setOptionStatus(0>=s_oResultDATA.AwardCount&&0>=J&&0==O),userInterface[a].refreshFreeGames(L.getFreeGameTimesRemain()),userInterface[a].refreshJP(s_oResultDATA.JP3,
s_oResultDATA.JP2,s_oResultDATA.JP1,s_oResultDATA.JP0),userInterface[a].enableBtnStop(!0)};this.onSymbolShowEnd=function(){if(y==GS_SYMBOL_ANIM)if(0<s_oResultDATA.BonusPay)s_oSoundMgr.playOneShot("win_bg"),setTimeout(s_oGame.onBonusShowEnd,2500),ia&&(O=!1);else if(0<s_oResultDATA.FreeGames)if(J=s_oResultDATA.FreeGames,s_oSlotData.SubGame_AwardCount){freeLagTime=3E3;V=[];for(var a=W=0;a<s_oResultDATA.AwardCount;a++)0<s_oResultDATA.Win[a]&&V.push(a);s_oGame.onCollectWinState();s_oSlotData.MainToFreeGame=
!1;s_oSlotData.SubGame_AwardCount=!1;s_oSoundMgr.setVolume("bgm_free",BGM_DEFAULT_VOLUME,0)}else s_oSoundMgr.playOneShot("win_free"),setTimeout(s_oGame.onFreeGameShowEnd,0);else{V=[];for(a=W=0;a<s_oResultDATA.AwardCount;a++)0<s_oResultDATA.Win[a]&&V.push(a);if(H&&0>=J)s_oGame.exitFreeGame();else s_oGame.onCollectWinState()}};this.onCollectWinState=function(){0<J?y=GS_FREE_GAME:O?0<s_oResultDATA.AwardCount||0<N?(y=GS_WAIT_IDLE,N=0,setTimeout(function(){for(var b=0;b<userInterface.length;b++)userInterface[b].refreshWinText(0);
s_oGame.UpdateCoin()},200),setTimeout(function(){y=GS_IDLE},800)):y=GS_IDLE:y=y===GS_BONUS?GS_BONUS_WAIT_CREDIT:GS_WAIT_CREDIT;s_oGame.onRefreshUIButton();if(!H&&(0<s_oResultDATA.AwardCount||0<N))for(var a=N=0;a<userInterface.length;a++)userInterface[a].setBtnCreditVisible(!1),userInterface[a].enableAutoStopBtn(!1),0>=J&&0==O&&(userInterface[a].setBtnSpinVisible(!0),userInterface[a].setOptionStatus(!0),userInterface[a].enableGuiButtons()),s_oGame.UpdateCoin(),s_oGame.showMarquee(s_aData.lang.MSG_CONGRATULATION[CMain_Language]);
H&&0>=J&&s_oGame.exitFreeGame()};this.exitFreeGame=function(){J=0;H=!1;L.exitFreeGame(N)};this.unfocusStaticSymbol=function(){for(var a=0;a<A.length;a++)null!=A[a]&&A[a].unfocusSymbol()};this.showStaticSymbol=function(){for(var a=0;a<STATIC_SYMBOL_GROUP.length;a++)for(var b=0;b<STATIC_SYMBOL_GROUP[a].length;b++)ja[STATIC_SYMBOL_GROUP[a][b]].play(),B&&H&&!s_oSlotData.MainToFreeGame&&B.playWildInFree(A[STATIC_SYMBOL_GROUP[a][b]])||A[STATIC_SYMBOL_GROUP[a][b]].play();s_oSlotData.AwardID.includes(WILD_SYMBOL_ID)?
s_oSoundMgr.playOneShot("win_wild"):s_oSoundMgr.playOneShot("win_symbol")};this.onJackpotShowEnd=function(a){clearTimeout(Ga);H&&!s_oSlotData.MainToFreeGame&&L.playFreeFxAnimation(0,"idle_loop",!0);K.hide();for(a=0;a<userInterface.length;a++)userInterface[a].endBigWinAnimation();s_oSlotData.MainToFreeGame?L.enterFreeGame():3<=s_oSlotData.scatterNum&&!B.getRetrigger()?L.winRetrigger(2E3):setTimeout(s_oGame.onSymbolShowEnd,300)};this.onBonusShowEnd=function(){y=GS_BONUS;s_oCharm.fadeIn(s_BlackScreen,
1);setTimeout(function(){mainContainer.removeChild(t);trace("***********BIG WIN: {0}".format(s_oResultDATA.BonusPay>=s_oResultDATA.Bet*BIGWIN_MUL));s_oGame.onRefreshUIButton();s_oSoundMgr.shiftMusicVolume(BGM_DEFAULT_VOLUME);s_oSoundMgr.play("BONUS")},1E3)};this.onFreeGameShowEnd=function(){Date.now();s_oGame.onRefreshUIButton();H=!0;setTimeout(function(){y=GS_FREE_GAME},800);s_oSoundMgr.shiftMusicVolume(BGM_DEFAULT_VOLUME);s_oSoundMgr.play("FREE")};this.addBetPerLine=function(){F++;F>=BET_TYPE.length&&
(F=0);_iCurBet=BET_TYPE[F];for(var a=0;a<userInterface.length;a++)userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive),userInterface[a].refreshBet(_iCurBet)};this.minusBetPerLine=function(){F--;0>F&&(F=BET_TYPE.length-1);_iCurBet=BET_TYPE[F];for(var a=0;a<userInterface.length;a++)userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive),userInterface[a].refreshBet(_iCurBet)};this.addTotalBet=function(){for(var a=BET_TYPE[F]*CV_TYPE[D],b=999999999,f=0,d=0,k=0;k<BET_TYPE.length;k++)for(var m=
s_oSlotData.betAvailableIdx;m<CV_TYPE.length;m++)BET_TYPE[k]*CV_TYPE[m]<b&&BET_TYPE[k]*CV_TYPE[m]>a&&(b=BET_TYPE[k]*CV_TYPE[m],f=k,d=m);F=f;D=d;999999999==b&&(F=0,D=s_oSlotData.betAvailableIdx);_iCurBet=BET_TYPE[F];_iCoinValue=CV_TYPE[D];for(a=0;a<userInterface.length;a++)userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive)};this.minusTotalBet=function(){for(var a=BET_TYPE[F]*CV_TYPE[D],b=-1,f=0,d=0,k=BET_TYPE.length-1;0<=k;k--)for(var m=CV_TYPE.length-1;m>=s_oSlotData.betAvailableIdx;m--)BET_TYPE[k]*
CV_TYPE[m]>b&&BET_TYPE[k]*CV_TYPE[m]<a&&(b=BET_TYPE[k]*CV_TYPE[m],f=k,d=m);F=f;D=d;-1==b&&(F=BET_TYPE.length-1,D=CV_TYPE.length-1);_iCurBet=BET_TYPE[F];_iCoinValue=CV_TYPE[D];for(a=0;a<userInterface.length;a++)userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive)};this.SetAuto=function(){qa=!0;T+=AUTOPLAY_CLICK_ADD;for(var a=0;a<userInterface.length;a++)userInterface[a].refreshAuto(T)};this.onAddCoinValue=function(){D++;D>=CV_TYPE.length&&(D=0);_iCoinValue=CV_TYPE[D];for(var a=0;a<
userInterface.length;a++)userInterface[a].refreshCoinValue(_iCoinValue),userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive)};this.onMinusCoinValue=function(){D--;0>D&&(D=CV_TYPE.length-1);_iCoinValue=CV_TYPE[D];for(var a=0;a<userInterface.length;a++)userInterface[a].refreshCoinValue(_iCoinValue),userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive)};this.onChangeBetScore=function(a){for(i=0;i<totalBet.length;i++)totalBet[i]==a&&(D=i,console.log(D+1));_iCoinValue=
CV_TYPE[D]};this.onAddBetScore=function(){D++;console.log("_iCoinValueIndex: ",D,"_iCurBet ",_iCurBet,"_iCoinValue ",_iCoinValue,"_iLastLineActive ",_iLastLineActive);D>=CV_TYPE.length&&(D=0);_iCoinValue=CV_TYPE[D];for(var a=0;a<userInterface.length;a++)userInterface[a].refreshCoinValue(_iCoinValue),userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive)};this.onMinusBetScore=function(){D--;0>D&&(D=CV_TYPE.length-1);_iCoinValue=CV_TYPE[D];for(var a=0;a<userInterface.length;a++)userInterface[a].refreshCoinValue(_iCoinValue),
userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive)};this.hideReelColumnSymbol=function(a){var b=Math.floor(a%NUM_REELS),f=Math.floor(a/NUM_REELS);0==C[0][0].containsFinalSymbol()&&(b+=NUM_REELS);C[b].forEach(function(d){return d.hideSymbol(f)})};this.hidePayTable=function(){_oPayTable.hide()};this.onMaxBet=function(){da=_iCurBet*_iLastLineActive*_iCoinValue;for(var a=0;a<userInterface.length;a++)userInterface[a].refreshBet(_iCurBet),userInterface[a].refreshTotalBet(da),userInterface[a].refreshNumLines(_iLastLineActive)};
this.removeWinShowing=function(){for(var a=Da=0;a<userInterface.length;a++)H||userInterface[a].refreshWinText(0,0),userInterface[a].resetWin(H);for(a=0;a<A.length;a++)B&&H&&!s_oSlotData.MainToFreeGame&&B.isWild(a)?A[a].setAlpha(1):null!=A[a]&&A[a].reset();userInterface[0].resetDynamicDepth();for(a=0;a<ja.length;a++)ja[a].hide();for(a=0;a<C.length;a++)for(var b=0;b<C[a].length;b++)C[a][b].setVisible(!0);userInterface[0].hideAllLine();s_oSlotData.MainToFreeGame=!1};this.onWheelActivate=function(a){C[a].forEach(function(b){return b.activate()})};
this.onSpin=function(a,b){userInterface[0].controlButtonSpinAnimation();za=0;P=!1;s_oSoundMgr.shiftMusicVolume(BGM_DEFAULT_VOLUME,1);B&&(B.resetWildPosition(),B.resetRetrigger());s_oSoundMgr.playOneShot("press_spin");a=a?a:"CLICK";this.showMarquee(s_aData.lang.MSG_WISH[CMain_Language]);var f=_iLastLineActive;if(0==totalBetSwitch)for(console.log("totalBetValue "+totalBetValue),f=totalBetValue/f,console.log("totalBetValueExceptLine "+f),d=0;d<BET_TYPE.length;d++)if(0==f%BET_TYPE[d])for(j=0;j<CV_TYPE.length;j++)f/
BET_TYPE[d]==CV_TYPE[j]&&(console.log("!! "+CV_TYPE[j]+"??/??"+f+"/"+BET_TYPE[d]),_iCoinValue=CV_TYPE[j],_iCurBet=BET_TYPE[d]);if(Global.Coin<(b?_iCurBet*_iLastLineActive*_iCoinValue*buyInformation.multiplier:_iCurBet*_iLastLineActive*_iCoinValue)){s_oPopMessageBox.addHTML(s_aData.lang.MSG_SHORT_BALANCE[CMain_Language],s_aData.lang.MSG_OK[CMain_Language],function(){});for(var d=0;d<userInterface.length;d++)userInterface[d].enableGuiButtons();"AUTO"==a&&this._onStopAuto()}else httpRequest.spin(_iCurBet,
_iLastLineActive,_iCoinValue,b),this.onClientSpin(a)};this.onFreeSpin=function(a,b){userInterface[0].controlButtonSpinAnimation();za=0;P=!1;s_oSoundMgr.shiftMusicVolume(BGM_DEFAULT_VOLUME,1);B&&(B.resetWildPosition(),B.resetRetrigger());s_oSoundMgr.playOneShot("press_spin");a=a?a:"CLICK";this.showMarquee(s_aData.lang.MSG_WISH[CMain_Language]);var f=FREE_SPIN_BET/_iLastLineActive;f/=_iCurBet;httpRequest.freeSpin(_iCurBet,_iLastLineActive,f,b);this.onClientSpin(a);for(a=0;a<userInterface.length;a++)userInterface[a].refreshTotalBet(FREE_SPIN_BET)};
this.onClientSpin=function(a){for(var b=0;b<NUM_REELS;b++)C[b].forEach(function(k){return k.resetReelMask([1,1,1,1,1,1])}),C[b+NUM_REELS].forEach(function(k){return k.resetReelMask([1,1,1,1,1,1])});skip==NONE_TO_TURBO&&(skip=NONE,t.interactive=!1);for(b=0;b<C.length;b++)C[b].forEach(function(k){return k.setAlpha(1)});va=!0;this.removeWinShowing();if(y!=GS_FREE_GAME){if(0==O){if(na||qa||oa||ia||S||pa||ea)O=!0;if(qa)for(var f=0;f<userInterface.length;f++)userInterface[f].enableAutoStopBtn(!0)}}else{B&&
B.playWildHold(A);s_oMain.stopWaitingMessage();b=s_oSlotData.FreeGameData[s_oSlotData.FreeGameData.length-J-1];B&&B.setWildPosition(b.wild_info.position);for(f=0;f<NUM_REELS;f++)s_oSlotData.ReelSymbols[f]=[],s_oSlotData.ServerSymbols[f]=[];s_oSlotData.Win=[];s_oSlotData.LineId=[];for(f=s_oSlotData.AwardFree=0;f<NUM_REELS;f++)for(var d=0;d<NUM_ROWS;d++)s_oSlotData.ServerSymbols[f][d]=b.extra.free_spin.init_result[f][d],s_oSlotData.ReelSymbols[f][d]=s_oSlotData.ServerSymbols[f][d];httpRequest.processReelData(b,
!0);s_oResultDATA=s_oSlotData;b=0;switch(skip){case NONE:b=NORMAL_SPIN_TIME;break;case QUICK:b=QUICK_SPIN_TIME;break;case TURBO:b=TURBO_SPIN_TIME;break;case NONE_TO_TURBO:b=TURBO_SPIN_TIME}setTimeout(function(){s_oGame.ReceiveStopMsg()},b)}O&&qa&&0<T&&(H||T--);Aa=O?MIN_REEL_LOOPS_AUTO:MIN_REEL_LOOPS;if(START_REEL_TOGETHER.includes(skip))for(b=0;b<C.length;b++)s_oGame.onWheelActivate(b);else this.delayStart(0);for(f=0;f<userInterface.length;f++)userInterface[f].refreshAuto(T),userInterface[f].refreshFreeGames(L.getFreeGameTimesRemain()),
userInterface[f].disableGuiButtons(H),userInterface[f].setBtnCreditVisible(!1),userInterface[f].setOptionStatus(!1),userInterface[f].setBtnSpinVisible(!1),userInterface[f].setBtnStopVisible("CLICK"==a),userInterface[f].enableBtnStop(!1),userInterface[f].setAutoStopBtnVisible(O&&0>=J);p=[0];y=GS_SPINNING};this.delayStart=function(a){setTimeout(function(){s_oGame.onWheelActivate(a);s_oGame.onWheelActivate(a+NUM_REELS);a++;a<NUM_REELS&&s_oGame.delayStart(a)},REEL_START_DELAY)};this.onStop=function(){for(var a=
0;a<userInterface.length;a++)userInterface[a].enableBtnStop(!1);this.stopAllReel()};this.stopAllReel=function(){va=!0;for(var a=0,b=0,f=0,d=0;d<userInterface.length;d++)userInterface[d].setBigFrameAlpha(0);s_oSlotData.WaitWin=0;skip!=NONE&&(b=f=a=0);2<=a||2<=b||2<=f?p.push(0):y==GS_SPINNING&&(a=100,skip===NONE_TO_TURBO||skip===NONE||skip===QUICK?(setTimeout(function(){p.includes(1)||p.push(1)},1*a),setTimeout(function(){p.includes(2)||p.push(2)},2*a),setTimeout(function(){p.includes(3)||p.push(3)},
3*a),setTimeout(function(){p.includes(4)||p.push(4)},4*a)):(a=0,p.push(0),p.push(1),p.push(2),p.push(3),p.push(4),p=this.resetArray(p)))};this.resetArray=function(a){for(var b=1;b<a.length;b++)if(1<a[b]-a[b-1])return a=[0,1,2,3,4];var f=[];for(b=0;b<a.length;b++)-1==f.indexOf(a[b])&&f.push(a[b]);a=f;a.sort();return a};this.onInterfaceOver=function(a){this.showMarquee(a)};this.onInterfaceOut=function(){this.showMarquee(s_aData.lang.MSG_JACKPOT_CONDITION[CMain_Language])};this.onCredit=function(){if(y!=
GS_BONUS){y=GS_IDLE;Ca=N=0;this.removeWinShowing();for(var a=0;a<userInterface.length;a++)userInterface[a].setBtnCreditVisible(!1),userInterface[a].setBtnSpinVisible(!0),userInterface[a].setOptionStatus(!0),userInterface[a].enableGuiButtons(),userInterface[a].refreshWinText(0);this.UpdateCoin();Z.stop();s_oSoundMgr.stopSound();this.showMarquee(s_aData.lang.MSG_CONGRATULATION[CMain_Language]);$(".cash").text(Global.Coin);s_oGame.onServerCredit()}};this.onServerSpin=function(){setTimeout(function(){o_Protocol.Protocol_GameSlot.Send04()},
500);0<N||0<J||this.UpdateCoin()};this.onServerCredit=function(){0<N||0<J||this.UpdateCoin()};this.onServerUpdateCoin=function(a){trace("onServerUpdateCoin / idle : "+a+"/"+y);3==a?this.UpdateCoin():y==GS_IDLE&&(Global.Coin>q?setTimeout(function(){s_oGame.UpdateCoin()},3E3):s_oGame.UpdateCoin())};this.UpdateCoin=function(){for(var a=0;a<userInterface.length;a++)userInterface[a].refreshMoney(Global.Coin,.2);q=Global.Coin};this.onInfoClicked=function(){};this._onStopAuto=function(){qa=pa=ea=ia=na=S=
oa=!1;T=0;O=!1;for(var a=0;a<userInterface.length;a++)userInterface[a].enableAutoStopBtn(!1);if(y==GS_WAIT_IDLE||y==GS_IDLE)s_oGame.onRefreshUIButton()};this.nextPaytablePage=function(){X.nextPage()};this.prevPaytablePage=function(){X.prevPage()};this.closePopUp=function(){ra=!1;X.removeHTML();ba.removeHTML();G.removeHTML();ha.removeHTML();la.removeHTML();r.visible=!0;I.visible=!0;v.visible=!0;userInterface[0].hidePopupBackground();for(var a=0;a<userInterface.length;a++)userInterface[a].enableGameUI(!0),
userInterface[a].enablePopUI(!1)};this.showMarquee=function(a){for(a=0;a<userInterface.length;a++);};this.onServerTalking=function(a){a=a.replace(/<[^>]*>/g,"");U.push(a)};this.popUp=function(a){if(y!==GS_SPINNING){ra=!0;"GAME_RULE"===a?(ba.fire(),X.removeHTML(),G.removeHTML(),ha.removeHTML(),la.removeHTML()):"PAY_TABLE"===a?(X.fire(),ba.removeHTML(),G.removeHTML(),ha.removeHTML(),la.removeHTML()):"AUTO_SETTING"===a?(G.fire(),ba.removeHTML(),X.removeHTML(),ha.removeHTML(),la.removeHTML()):"CHANGE_RATIO"===
a?(ha.fire(),G.removeHTML(),ba.removeHTML(),X.removeHTML(),la.removeHTML()):"TOTAL_BET"===a&&(la.fire(),ha.removeHTML(),G.removeHTML(),ba.removeHTML(),X.removeHTML());r.visible=!0;I.visible=!0;v.visible=!0;userInterface[0].showPopupBackground();for(var b=0;b<userInterface.length;b++)userInterface[b].enableGameUI(!ba.existDOM&&!X.existDOM&&!la.existDOM&&!G.existDOM&&!ha.existDOM),userInterface[b].enablePopUI(ba.existDOM||X.existDOM||la.existDOM||G.existDOM||ha.existDOM,a)}};this._onAutoSpin=function(){s_oGame.closePopUp();
for(var a=0;a<userInterface.length;a++)userInterface[a].enableAutoStopBtn(!0);if(G.singleWon.status&&(pa=!0,Fa=G.singleWon.val,T=-2,!G.autoTimes.status))s_oGame.onSpin("AUTO");if(G.decrease.status&&(oa=!0,ya=G.decrease.val,T=-2,!G.autoTimes.status&&!G.singleWon.status))s_oGame.onSpin("AUTO");if(G.increase.status&&(S=!0,ma=G.increase.val,T=-2,!G.autoTimes.status&&!G.decrease.status&&!G.singleWon.status))s_oGame.onSpin("AUTO");if(G.untilFree.status&&G.autoTimes.status&&(ea=!0,T=-2,!(G.autoTimes.status||
G.decrease.status||G.singleWon.status||G.increase.status)))s_oGame.onSpin("AUTO");G.anyJackpot.status&&(na=!0,T=-2,s_oGame.onSpin("AUTO"));G.autoTimes.status&&(qa=!0,T=G.autoTimes.val,s_oGame.onSpin("AUTO"))};this.changeSpinMode=function(){if(G.cbQuickSpin.status){skip=QUICK;t.interactive=!0;for(var a=0;a<NUM_REELS;a++)for(var b=0;b<C[a].length;b++)C[a][b]._quickSpin=!0}else if(G.cbTurboSpin.status)for(skip=TURBO,t.interactive=!1,a=0;a<NUM_REELS;a++)for(b=0;b<C[a].length;b++)C[a][b]._quickSpin=!0;
else for(skip=NONE,t.interactive=!1,a=0;a<NUM_REELS;a++)for(b=0;b<C[a].length;b++)C[a][b]._quickSpin=!1};this.getCoinValue=function(){return _iCoinValue};this.onChangeCoinValue=function(a){_iCoinValue=a;for(a=0;a<userInterface.length;a++)userInterface[a].refreshCoinValue(_iCoinValue),userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive);s_oGame.closePopUp()};this._onHomePage=function(){null!=s_aryWindowSearch.HomeURL&&s_oPopMessageBox.addHTML(s_aData.lang.MSG_HOMEPAGE[CMain_Language],
s_aData.lang.MSG_OK[CMain_Language],function(){window.location.replace(s_aryWindowSearch.HomeURL)},s_aData.lang.MSG_CANCEL[CMain_Language],function(){})};this._onRecord=function(){window.open(betRecordURL+"?token="+token+"&lang="+lang+"&serverurl="+serverURL)};this._onExit=function(){};this.onBonusGameOver=function(){s_oResultDATA.BonusPay>=s_oResultDATA.Bet*BIGWIN_MUL?K.instantShow(s_oTextureLibrary.getTexture("logo_bigwin"),s_oResultDATA.BonusPay):K.instantShow(s_oTextureLibrary.getTexture("logo_totalwin"),
s_oResultDATA.BonusPay);setTimeout(s_oGame.onBonusNumberShowOver,2E3)};this.onRemoveBonusScene=function(){mainContainer.addChildAt(t,0);0<N||0<J?(N+=s_oResultDATA.BonusPay,s_oSoundMgr.play("FREE")):s_oSoundMgr.play("GAME");for(var a=0;a<userInterface.length;a++)0<N||0<J?userInterface[a].refreshWinText(N):userInterface[a].refreshWinText(s_oResultDATA.BonusPay);s_oCharm.fadeOut(s_WhiteScreen,1);setTimeout(s_oGame.onCollectWinState,1200)};this.onBonusNumberShowOver=function(){s_oCharm.fadeIn(s_WhiteScreen,
.5,function(){s_oGame.onRemoveBonusScene()})};this._onCharge=function(){};this.toggleAudio=function(a){s_oSoundMgr.open();switch(a){case NOSOUND:muteAudio=!0;createjs.Sound.muted=!0;break;case ALLSOUND:muteAudio=!1;createjs.Sound.muted=!1;break;case SOUND_EFFECT:s_oSoundMgr.close("GAME")}};this.getMuteAudio=function(){return muteAudio};this.toggleFullscreen=function(){toggleFull=0==toggleFull?!0:!1;screenfull.enabled&&screenfull.toggle()};this.unloadStage=function(){mainContainer.removeChild(t);s_oGame.closePopUp();
if(GS_SPINNING){for(var a={$jscomp$loop$prop$i$43$67:0};a.$jscomp$loop$prop$i$43$67<NUM_REELS;a={$jscomp$loop$prop$i$43$67:a.$jscomp$loop$prop$i$43$67},a.$jscomp$loop$prop$i$43$67++)C[a.$jscomp$loop$prop$i$43$67].forEach(function(b){return function(f){return f.reset(sa[b.$jscomp$loop$prop$i$43$67],REEL_OFFSET_Y)}}(a)),C[a.$jscomp$loop$prop$i$43$67+NUM_REELS].forEach(function(b){return function(f){return f.reset(sa[b.$jscomp$loop$prop$i$43$67],REEL_OFFSET_Y+SYMBOL_SIZE*NUM_ROWS)}}(a));this.resetReel()}y=
GS_IDLE;N=0;this._onStopAuto();this.removeWinShowing();for(i=0;i<userInterface.length;i++)userInterface[i].setBtnCreditVisible(!1),userInterface[i].setBtnStopVisible(!1),userInterface[i].setAutoStopBtnVisible(!1),userInterface[i].setBtnFreeGameVisible(!1),userInterface[i].setBtnSpinVisible(!0),userInterface[i].setOptionStatus(!0),userInterface[i].enableGuiButtons();J=0;H=!1};this.reloadStage=function(){s_oGame.refreshInterface();mainContainer.addChildAt(t,0)};this.serverContributionChange=function(a){};
this.winnerNoty=function(a){this.showMarquee(a)};this.update=function(a){K&&K.update();if(!1!==x)switch(y){case GS_IDLE:0<U.length&&s_oGame.winnerNoty(U.shift());if(O&&!ra){for(var b=0;b<userInterface.length;b++)userInterface[b].enableAutoStopBtn(!0);s_oGame.onSpin("AUTO")}break;case GS_FREE_GAME:0<U.length&&s_oGame.winnerNoty(U.shift());s_oResultDATA.FreeGames--;L.setFreeGameTimesRemain(-1);J=s_oResultDATA.FreeGames;s_oGame.onClientSpin("FREE");break;case GS_SPINNING:for(var f=0;f<C.length;f++)C[f].forEach(function(Ha){return Ha.update(a)});
Z.update(a);break;case GS_WAIT_CREDIT:if(0<U.length&&s_oGame.winnerNoty(U.shift()),Date.now()-Ea>SHOW_WINLINE_INTERVAL){b=s_oResultDATA.LineId[V[W]];var d=s_oResultDATA.Win[V[W]];f=s_oResultDATA.Way[V[W]];if(null!=b)userInterface[0].playLine(b,d);else if(s_oSlotData.Special7||s_oSlotData.JPPay){oScoreText=new PIXI.extras.BitmapText(d.toString(),{font:"64px font_score",align:"center"});var k=new PIXI.Container;oScoreText.anchor.set(.5);k.addChild(oScoreText);k.visible=!0;v.addChild(k);setTimeout(function(){k.visible=
!1},1200)}if(f){d=!1;for(b=0;b<f.length&&!(d=3===this.getSymbolIdByPos(f[b]-1));b++);for(b=0;b<f.length;b++){var m=f[b]-1;if(!(0>m||m>=A.length)){var Q=A[m].getShowSymbolId();0===b&&2>Ca&&(d&&Q>MAX_SYMBOL_SOUND?0<s_oResultDATA.WildIndex?s_oSoundMgr.playOneShot("wild_card"):this.playSymbolSound(3):this.playSymbolSound(Q));Q=8>=Q&&(2===m||7===m||12===m);var xa=!1;if(0<s_oResultDATA.WildIndex&&!xa)switch(WILD_TYPE){case 103:if(m==s_oResultDATA.WildIndex||m==s_oResultDATA.WildIndex+NUM_REELS||m==s_oResultDATA.WildIndex+
2*NUM_REELS)Z.loopPlay(),xa=!0;break;case 202:if(m==s_oResultDATA.WildIndex||m==s_oResultDATA.WildIndex+1||m==s_oResultDATA.WildIndex+NUM_REELS||m==s_oResultDATA.WildIndex+NUM_REELS+1)Z.loopPlay(),xa=!0;break;case 1234:switch(s_oResultDATA.WildType){case 0:if(m==s_oResultDATA.WildIndex||m==s_oResultDATA.WildIndex+1)Z.loopPlay(),xa=!0;break;case 1:if(m==s_oResultDATA.WildIndex||m==s_oResultDATA.WildIndex+1||m==s_oResultDATA.WildIndex)Z.loopPlay(),xa=!0;break;case 2:if(m==s_oResultDATA.WildIndex||m==
s_oResultDATA.WildIndex+1||m==s_oResultDATA.WildIndex+2||m==s_oResultDATA.WildIndex+3)Z.loopPlay(),xa=!0}}A[m].setRescale(1<V.length);A[m].play(Q);ja[m].play()}}}Da++;Ea=Date.now();W++;W>=V.length&&(W=0,Ca++)}}};this.isAutoPlay=function(){return O};this.getSymbolIdByPos=function(a){return 0<=a?s_oResultDATA.ServerSymbols[Math.floor(a%NUM_REELS)][Math.floor(a/NUM_REELS)]:9};this.touch=function(){aa<s_oResultDATA.Bet*s_oResultDATA.Line*s_oResultDATA.CoinValue*WinLevelRate.BIG_WIN&&!(skip>QUICK)&&(skip!==
QUICK&&(skip=NONE_TO_TURBO),s_oGame.onStop())};this.totalBet=function(){return _iCurBet*_iCoinValue*_iLastLineActive};this.gameTimer=function(){setInterval(function(){P&&(Ba&&wa++,1E3*wa===FREE_TRANSFER_TIME&&(Ba=!1,wa=0),H?za=0:10===za?(P=!1,za=0):za++)},1E3)};this.showExtraAward=function(a){Y.show(a)};this.pause=function(){var a=setInterval(function(){H||s_oResultDATA.MainToFreeGame?y===GS_SYMBOL_ANIM&&(x=!1):0===T||y!==GS_WAIT_IDLE&&y!==GS_IDLE||(x=!1);!1===Y.getVisible()&&(x=!0,clearInterval(a),
httpRequest.setAllowGetExtra(!0))},10)};this.clickOtherUiBuyFree=function(a,b){for(var f=0;f<userInterface.length;f++)userInterface[f]!==a&&(b?userInterface[f]._onBuyFreeSpin():userInterface[f].closePopupBuyFree())};this.createFreeGameAnimation=function(){L=new FreeGameAnimation(PIXI.loader.resources.free_transfer.spineData,PIXI.loader.resources.free_end.spineData,PIXI.loader.resources.free_retrigger.spineData,userInterface[0].getFreeGameAnimationContainer());L.addTimesOnAnimation({name:"font_freegame",
fontSize:55,align:"center"},void 0,{name:"font_totalwin",fontSize:110,align:"center"},{name:"font_freegame",fontSize:110,align:"center"});L.setTimesOnAnimationPosition("transfer",[-95,-108]);L.setTimesOnAnimationPosition("end",[0,-30],[-215,-140])};this.getScatterTimes=function(){return s_oSlotData.extra.free_spin.times};this.sendGetFreeSpinTotalPayout=function(a){httpRequest.sendGetFreeSpinTotalPayout(a)};this.showFreeSpinTotalPayout=function(a,b){if(a===FREE_SPIN_ID)for(a=0;a<userInterface.length;a++)userInterface[a].showFreeSpinTotalPayout(b),
userInterface[a].refreshTotalBet(_iCurBet*_iCoinValue*_iLastLineActive)};this.buyFreeAddTotalBet=function(a){a=BET_TYPE[F]*CV_TYPE[a];for(var b=999999999,f=0,d=F,k=0;k<CV_TYPE.length;k++)BET_TYPE[d]*CV_TYPE[k]<b&&BET_TYPE[d]*CV_TYPE[k]>a&&(b=BET_TYPE[d]*CV_TYPE[k],f=k);a=f;999999999==b&&(a=0);_iCurBet=BET_TYPE[F];_iCoinValue=CV_TYPE[a];D=a<s_oSlotData.betAvailableIdx?s_oSlotData.betAvailableIdx:a;b=CV_TYPE[D];for(f=0;f<userInterface.length;f++)userInterface[f].refreshTotalBet((new Decimal(_iCurBet)).mul(b).mul(_iLastLineActive).toNumber());
for(b=0;b<userInterface.length;b++)userInterface[b].refreshBuyFreeTotalBet((new Decimal(_iCurBet)).mul(_iCoinValue).mul(_iLastLineActive).toNumber(),a)};this.buyFreeMinusTotalBet=function(a){a=BET_TYPE[F]*CV_TYPE[a];for(var b=-1,f=0,d=F,k=CV_TYPE.length-1;0<=k;k--)BET_TYPE[d]*CV_TYPE[k]>b&&BET_TYPE[d]*CV_TYPE[k]<a&&(b=BET_TYPE[d]*CV_TYPE[k],f=k);a=f;-1==b&&(a=CV_TYPE.length-1);_iCurBet=BET_TYPE[F];_iCoinValue=CV_TYPE[a];D=a<s_oSlotData.betAvailableIdx?s_oSlotData.betAvailableIdx:a;b=CV_TYPE[D];for(f=
0;f<userInterface.length;f++)userInterface[f].refreshTotalBet((new Decimal(_iCurBet)).mul(b).mul(_iLastLineActive).toNumber());for(b=0;b<userInterface.length;b++)userInterface[b].refreshBuyFreeTotalBet((new Decimal(_iCurBet)).mul(_iCoinValue).mul(_iLastLineActive).toNumber(),a)};this.resetTotalBetAfterBuyFree=function(){_iCurBet=BET_TYPE[F];_iCoinValue=CV_TYPE[D];for(var a=0;a<userInterface.length;a++)userInterface[a].refreshBuyFreeTotalBet((new Decimal(_iCurBet)).mul(_iCoinValue).mul(_iLastLineActive).toNumber(),
D)};s_oGame=this;this._init()};function Marquee(c,g,n,q,p){var t=null,z=3E3,w=[],l=null,e=null,h=null,r=null,E=this,I=0;this.init=function(){t=new PIXI.Container;t.position.set(c,g);e=createBitmap(s_oTextureLibrary.getTexture("board_1"));e.scale.set(n);e.anchor.set(.5);t.addChild(e);r=new PIXI.spine.Spine(PIXI.loader.resources.board_win.spineData);r.scale.set(n);r.state.setAnimation(0,"idle",!0);t.addChild(r);l=new BalanceTickNumber(r,"40px font_win");l.setFixed(FIXED_DIGIT);l.setScale(1,1);l.setAnchor(.5,.5);l.setBMPFontText(!1);
l.setTextColor(16439297);l.setPosition(0,0);l.setVisible(!1);for(var u=0;u<p;u++)w[u]=new PIXI.Sprite(s_oTextureLibrary.getTexture("scrolling_text_"+u+"_"+CMain_Language)),w[u].scale.set(.5),w[u].anchor.set(.5),console.log("marqueePicture[i].width",u,w[u].width),w[u].width>e.width?w[u].position.set((w[u].width-e.width)/2+15,I):w[u].position.set(0,I),t.addChild(w[u]),w[u].alpha=0;h=new PIXI.Graphics;h.beginFill(0,.7);h.drawRect(-e.width/2+15,-e.height/2,e.width-30,e.height);h.endFill();t.addChild(h);
for(u=0;u<p;u++)w[u].mask=h;e=createBitmap(s_oTextureLibrary.getTexture("board_0"));e.scale.set(n);e.anchor.set(.5);t.addChild(e);q.addChild(t)};this.cycle=function(u){for(var v={$jscomp$loop$prop$i$56$71:0};v.$jscomp$loop$prop$i$56$71<w.length;v={$jscomp$loop$prop$i$56$71:v.$jscomp$loop$prop$i$56$71},v.$jscomp$loop$prop$i$56$71++)0<v.$jscomp$loop$prop$i$56$71&&w[v.$jscomp$loop$prop$i$56$71-1].width>e.width&&TweenLite.to(w[v.$jscomp$loop$prop$i$56$71-1],.5,{alpha:0,onComplete:function(x){return function(){w[x.$jscomp$loop$prop$i$56$71-
1].position.set((w[x.$jscomp$loop$prop$i$56$71-1].width-e.width)/2+35,I)}}(v)}),0==v.$jscomp$loop$prop$i$56$71&&w[w.length-1].width>e.width&&TweenLite.to(w[w.length-1],.5,{alpha:0,onComplete:function(){w[w.length-1].position.set((w[w.length-1].width-e.width)/2+35,I)}}),w[u].width>e.width?(z=1E3+8E3*(w[u].width-e.width)/e.width,TweenLite.to(w[v.$jscomp$loop$prop$i$56$71],.5,{alpha:0,onComplete:function(){TweenLite.to(w[u],.5,{alpha:1,onComplete:function(){setTimeout(function(){TweenLite.to(w[u].position,
z/1E3,{ease:Power0.easeOut,x:-(w[u].width-e.width)/2-40,onComplete:function(){TweenLite.to(w[u],2,{alpha:1,onComplete:function(){u=u==w.length-1?0:u+1;E.cycle(u)}})}})},1E3)}})}})):TweenLite.to(w[v.$jscomp$loop$prop$i$56$71],.5,{alpha:0,onComplete:function(){TweenLite.to(w[u],.5,{alpha:1,onComplete:function(){TweenLite.to(w[u],2,{alpha:1,onComplete:function(){u=u==w.length-1?0:u+1;E.cycle(u)}})}})}})};this.disableCycle=function(){for(var u=0;u<w.length;u++)w[u].visible=!1;l.setVisible(!0)};this.enableCycle=
function(){for(var u=0;u<w.length;u++)w[u].visible=!0;l.setVisible(!1)};this.refreshWinText=function(u,v){0<u?(this.disableCycle(),l.showNumber(u,v?v:0),l.centered(0,I)):(this.enableCycle(),this.stopAnimation())};this.resetWin=function(){l.resetNumber()};this.playAnimation=function(u){u?r.state.setAnimation(0,"play02",!1):r.state.setAnimation(0,"play01",!1)};this.stopAnimation=function(){r.state.setAnimation(0,"idle",!0)};this.setMarqueePicturePositionY=function(u){I=u;for(u=0;u<p;u++)w[u].position.y=
I};this.init()};function PopupPayTable(){this.scale=VIEW_WIDTH*s_oMain.ratio/1E3;this.init=function(){this.popDOM=new CPopupDOM;this.renderDOM="<div id='payTable'></div>"};this.addHTML=function(){settingLeftWidth="paytable";this.popDOM.addHTML(this.renderDOM);this.popDOM.currentHTML.style.pointerEvents="auto";var c=document.getElementById("payTable");c.innerHTML=s_aData.payTable;var g=document.createElement("div");g.className="button-close";c.appendChild(g);c=document.createElement("div");c.className="but_close sprite";
g.appendChild(c);g.addEventListener("click",s_oGame.closePopUp);this.onResize()};this.fire=function(){this.popDOM.currentHTML?this.popDOM.removeHTML():this.addHTML()};this.removeHTML=function(){this.popDOM.currentHTML&&this.popDOM.removeHTML();this.closeButton&&this.closeButton.removeHTML()};this.onResize=function(){if(this.popDOM.currentHTML){var c=VIEW_WIDTH*s_oMain.ratio/1E3;this.scale=c;var g=this.popDOM.currentHTML.style;g.transform=g.webkitTransform="scale({0},{1}) perspective(1px)".format(c,
c);c=$("#popup");g=$("#payTable");c.height(VIEW_HEIGHT*s_oMain.ratio/this.scale*.95);g.height(c.height());c.width(VIEW_WIDTH*s_oMain.ratio/this.scale*.9);g.width(c.width());c.css("margin-left","-"+c.width()/2*this.scale+"px");c.css("margin-top","-"+c.height()/2*this.scale+"px");c=[[{quantity:5,pay:200},{quantity:4,pay:100},{quantity:3,pay:25}],[{quantity:5,pay:150},{quantity:4,pay:50},{quantity:3,pay:20}],[{quantity:5,pay:120},{quantity:4,pay:30},{quantity:3,pay:15}],[{quantity:5,pay:60},{quantity:4,
pay:20},{quantity:3,pay:10}],[{quantity:5,pay:40},{quantity:4,pay:20},{quantity:3,pay:10}],[{quantity:5,pay:20},{quantity:4,pay:15},{quantity:3,pay:5}],[{quantity:5,pay:20},{quantity:4,pay:15},{quantity:3,pay:5}],[{quantity:5,pay:15},{quantity:4,pay:10},{quantity:3,pay:5}],[{quantity:5,pay:15},{quantity:4,pay:10},{quantity:3,pay:5}]];g=document.getElementsByClassName("symbol-pay");for(var n=0;n<c.length;n++)for(var q=0;q<c[n].length;q++)if(!document.getElementsByClassName("row-"+q)[n]){var p=document.createElement("div");
g[n].appendChild(p);p.className="row-"+q;var t=document.createElement("span");p.appendChild(t);t.className="quantity";t.innerHTML=c[n][q].quantity;t.style.color="#FEB201";t.style.fontWeight="bold";t=document.createElement("span");p.appendChild(t);t.className="pay";p=(new Decimal(n===SCATTER_SYMBOL_ID?_iLastLineActive:1)).mul(c[n][q].pay).mul(_iCoinValue).mul(_iCurBet);1<=p/MILLION?p=p/MILLION+"M":1<=p/THOUSAND&&(p=p/THOUSAND+"K");t.innerHTML=" &nbsp;"+p.toString()}c=document.getElementsByClassName("line-container");
for(g=0;g<NUM_PAYLINES;g++)document.getElementsByClassName("line_"+g+" sprite")[0]||(n=document.createElement("div"),n.className="line-image",c[0].appendChild(n),q=document.createElement("div"),q.className="line-id",q.innerText=g+1,n.appendChild(q),q=document.createElement("div"),q.className="line_"+g+" sprite",n.appendChild(q));c=$(".payTable-content");c.css("overflow","auto");c.height(.86*$("#payTable").height());c.css("margin","36px 44px");c.css("color","#FFFFFF");c=$(".button-close");c.css("position",
"fixed");c.css("bottom","36px");c.css("left","50%");c.css("margin-left",-c.width()/2+"px");c.css("cursor","pointer");c=$(".title");c.css("text-align","center");c.css("font-size","60px");c=$(".content");c.css("font-size","36px");g=$(".symbol-pay");g.css("font-size","45px");g.css("margin","20px");g=$(".notice");g.css("color","#FF0000");g.css("font-size",c.css("font-size"));c=$(".wild-symbol .symbol-information");c.css("display","flex");c.css("align-items","center");c.css("justify-content","center");
$(".wild-symbol .symbol-image").css("margin-right","10px");c=$(".wild-symbol .description");c.css("display","flex");c.css("align-items","center");c.css("justify-content","center");c=$(".wild-symbol .description > div");c.css("transform","scale(0.5)");c.css("margin","-30px");c=$(".normal-symbol .content");c.css("display","flex");c.css("flex-wrap","wrap");c.css("align-items","center");c.css("justify-content","center");c=$(".normal-symbol .symbol-information");c.css("margin","60px");c.css("text-align",
"center");c=$(".scatter-symbol .symbol-information");c.css("display","flex");c.css("align-items","center");c.css("justify-content","center");$(".free-image").css("text-align","center");c=$(".pay-line .line-container");c.css("display","flex");c.css("flex-wrap","wrap");c.css("align-items","center");c.css("justify-content","center");$(".pay-line .line-image").css("margin","4px");$(".pay-line .description").css("text-align","center");$(".pay-line .line-id").css("text-align","center");$(".about-game .content").css("line-height",
"70px")}};Object.defineProperty(this,"existDOM",{get:function(){return null!=this.popDOM.currentHTML}});this.init()};function PortraitUI(c,g){var n=0,q=!1,p=null,t=null,z=null,w=null,l=null,e=null,h=null,r=null,E=null,I=null,u=null,v=null,x=null,y=null,M=null,ca=null,D=null,F=null,da=null,C=null,A=null,ja=null,ua=null,V=null,W=null,ka=null,Z=null,K=null,J=null,O=null,R=null,va=null,Ea=null,aa=null,H=null,ba=null,X=null,G=null,ha={font:"40px font",align:"center",fontSize:40},la={font:"20px font_btn_cost",align:"center",fontSize:20},S=null,ma=null,oa=null,ya=null,ia=null,pa=[],Fa=[],na=null,qa=[],T={x:0,y:-126},ea=
null,N=skip,Aa=ALLSOUND,ra=null,Ca=null,Da="main",sa=null,U=null,Y=null,ta=this,za=!0,P=null,fa=null,Ba=null,wa=null,Ga={font:"80px font_spin_num",align:"center",fontSize:80},L=null,B=null,a=null,b=!1,f=null;this.init=function(){this.createContainer();this.createUI();this.createBuyFreeGameAnimation();this.createBackground();this.createWheel();this.createBigWinFx();this.createReelSymbol();this.createDynamicSymbol();this.initFeature();this.createWinFrame();this.createPayLine();window.dispatchEvent(new CustomEvent("GAME_READY_TO_SPIN",
{detail:{container:Ba,account:s_aryWindowSearch.Account}}))};this.createContainer=function(){ka=new PIXI.Container;ka.position.set(HALF_CANVAS_WIDTH,HALF_CANVAS_HEIGHT);ka.interactive=!0;ka.on("pointertap",this.onClickBack);c.addChild(ka);Z=new PIXI.Container;Z.position.set(HALF_CANVAS_WIDTH,CANVAS_HEIGHT);c.addChild(Z);Ba=new PIXI.Container;Ba.name="extensionsContainer";c.addChild(Ba);K=new PIXI.Container;Z.addChild(K);J=new PIXI.Container;Z.addChild(J);S=new PIXI.Container;S.position.set(0,-54);
ma=new PIXI.Container;ma.position.set(0,54);O=new PIXI.Container;ka.addChild(O);R=new PIXI.Container;ka.addChild(R);va=new PIXI.Container;Ea=new PIXI.Container;aa=new PIXI.Container;H=new PIXI.Container;ba=new PIXI.Container;G=new PIXI.Container;G.position.set(-HALF_CANVAS_WIDTH,-HALF_CANVAS_HEIGHT);ka.addChild(G);X=new PIXI.Container;c.addChild(X)};this.createBackground=function(){sa=new PIXI.spine.Spine(PIXI.loader.resources.bg.spineData);sa.scale.set(.5);sa.state.setAnimation(0,"idle",!0);O.addChild(sa);
if(PIXI.loader.resources.bg_fx3){var d=new PIXI.spine.Spine(PIXI.loader.resources.bg_fx3.spineData);d.scale.set(.5);d.state.setAnimation(0,"play",!0);O.addChild(d)}PIXI.loader.resources.big_win_fx2&&(Y=new PIXI.spine.Spine(PIXI.loader.resources.big_win_fx2.spineData),Y.scale.set(.5),Y.state.setAnimation(0,"idle",!1),O.addChild(Y))};this.createUI=function(){var d=this,k={text:s_oGame.totalBet(),font:"font_btn_cost"};x=new BuyFreeGame(buyInformation.multiplier,s_oTextureLibrary.getTexture("btn_buy_"+
CMain_Language),la,K);x.setLimit(buyInformation.limitTotal);x.setHover(s_oTextureLibrary.getTexture("btn_buy_hover_"+CMain_Language));x.setScale(.5);x.setPosition(0,-175);x.setCostMoneyOnButtonOrigin(0,41,0);x.setCostMoneySizeOnCheckWindow(60);x.makeCheckWindow(s_oTextureLibrary.getTexture("check_buy_"+CMain_Language),s_oTextureLibrary.getTexture("check_buy_yes_"+CMain_Language),s_oTextureLibrary.getTexture("check_buy_no"),function(){x.setBuyFreeGameFlag(!0);ta._onSpin(1);s_oGame.clickOtherUiBuyFree(ta,
!1);ga.addGtag("event","\u8cfc\u8cb7(\u78ba\u5b9a)",{send_to:GAME_GA_CODE[gameId],event_category:"click"});ga.addGtag("event","\u8cfc\u8cb7\u7279\u8272\u904a\u6232(\u7e3d\u6578)",{send_to:GAME_GA_CODE[gameId],event_category:"click"});s_oGame.resetTotalBetAfterBuyFree()},function(){s_oGame.clickOtherUiBuyFree(ta,!1);ga.addGtag("event","\u8cfc\u8cb7(\u53d6\u6d88)",{send_to:GAME_GA_CODE[gameId],event_category:"click"});ga.addGtag("event","\u8cfc\u8cb7\u7279\u8272\u904a\u6232(\u7e3d\u6578)",{send_to:GAME_GA_CODE[gameId],
event_category:"click"});s_oGame.resetTotalBetAfterBuyFree()},J,k);x.makeBetButtons(s_oTextureLibrary.getTexture("btn_buy_bet_increase"),s_oTextureLibrary.getTexture("btn_buy_bet_reduce"),function(){var Q=x.getCoinValueIndex();s_oGame.buyFreeAddTotalBet(Q)},function(){var Q=x.getCoinValueIndex();s_oGame.buyFreeMinusTotalBet(Q)},s_oSlotData.coinValueDefaultIndex);x.setCheckWindowScale(.5);x.setCheckWindowPosition(0,-350);x.setCostMoneyPositionOnCheckWindow(0,25);x.addEventListener("pointerup",this._onBuyFreeSpin.bind(this));
x.addEventListener("pointerup",s_oGame.clickOtherUiBuyFree.bind(this,this,!0));oa=createBitmap(s_oTextureLibrary.getTexture("hud_board"));oa.anchor.set(.5,1);oa.scale.set(1,.5);oa.position.set(0,0);K.addChild(oa);ya=createBitmap(s_oTextureLibrary.getTexture("hud_bar"));ya.anchor.set(.5,1);ya.scale.set(1,.5);ya.position.set(0,-oa.height);ya.interactive=!0;K.addChild(ya);t=new PIXI.Sprite(s_oTextureLibrary.getTexture("hud_balance_0"));t.anchor.set(.5);t.scale.set(.5);t.position.set(-124,-128);K.addChild(t);
p=new PIXI.Sprite(s_oTextureLibrary.getTexture("hud_balance_"+CMain_Language));p.anchor.set(.5);p.scale.set(.5);p.position.set(-125,-128);K.addChild(p);ua=new BalanceTickNumber(p,"25px font");ua.setFixed(FIXED_DIGIT);ua.setScale(.8,.8);ua.setAnchor(.5,.5);ua.setPosition(0,-15);ua.setBMPFontText(!1);l=new CButton(0,-128,s_oTextureLibrary.getTexture("hud_bet_0"),K);l.setScale(.5);l.setInteractive(!1);e=new CTwoWayButton(s_oTextureLibrary.getTexture("but_bet_reduce"),s_oTextureLibrary.getTexture("hud_bet_"+
CMain_Language),s_oTextureLibrary.getTexture("but_bet_increase"),K);e.setPosition(0,-128);e.setCenterScale(.5);e.setTwoWayScale(1);e.setLeftPosition(-135,0);e.setRightPosition(135,0);V=new BalanceTickNumber(e,"25px font");V.setFixed(FIXED_DIGIT);V.setScale(.8,.8);V.setAnchor(.5,.5);V.setPosition(0,-15);V.setBMPFontText(!1);w=new PIXI.Sprite(s_oTextureLibrary.getTexture("hud_win_0"));w.anchor.set(.5);w.scale.set(.5);w.position.set(124,-128);K.addChild(w);z=new PIXI.Sprite(s_oTextureLibrary.getTexture("hud_win_"+
CMain_Language));z.anchor.set(.5);z.scale.set(.5);z.position.set(125,-128);K.addChild(z);W=new BalanceTickNumber(z,"25px font");W.setFixed(FIXED_DIGIT);W.setScale(.8,.8);W.setAnchor(.5,.5);W.setPosition(0,-15);W.setBMPFontText(!1);r=new SpineButton(PIXI.loader.resources.spin.spineData,S);r.setAnimation("idle",!0);r.setScale(.5);r.addEventListenr("pointertap",this._onSpin.bind(this,0));r.initListener();k=new PIXI.Graphics;k.beginFill(0,.5);k.drawEllipse(0,0,100,57);k.endFill();r.setMask(k);HAS_FREE_SPIN&&
r.setInteractive(!1);v=new SpineButton(PIXI.loader.resources.spin.spineData,S);v.setScale(.5);v.setVisible(!1);v.addEventListenr("pointertap",this._onStop);u=new SpineButton(PIXI.loader.resources.spin.spineData,S);u.setAnimation("play02",!0);u.setScale(.5);u.setVisible(!1);u.initListener();u.addEventListenr("pointertap",this._onStopAuto);I=new SpineButton(PIXI.loader.resources.spin.spineData,S);I.setAnimation("play03",!0);I.setScale(.5);I.setVisible(!1);ja=new PIXI.extras.BitmapText("0",ha);ja.anchor.set(.5);
ja.position.set(0,-5);I.addChild(ja);A=new PIXI.extras.BitmapText("0",ha);u.addChild(A);h=new CButton(-136,0,s_oTextureLibrary.getTexture("but_info"),S);h.setScale(.5);F=new CButton(-81,0,s_oTextureLibrary.getTexture("but_normal"),S);F.setScale(.5);switch(N){case NONE:F.setTexture(s_oTextureLibrary.getTexture("but_normal"));break;case QUICK:F.setTexture(s_oTextureLibrary.getTexture("but_quick"));break;case TURBO:F.setTexture(s_oTextureLibrary.getTexture("but_turbo"))}E=new CButton(81,0,s_oTextureLibrary.getTexture("but_auto"),
S);E.setScale(.5);y=new CButton(136,0,s_oTextureLibrary.getTexture("but_more"),S);y.setScale(.5);ca=new CButton(-68,0,s_oTextureLibrary.getTexture("but_record"),ma);ca.setScale(.5);da=new CButton(0,0,s_oTextureLibrary.getTexture("but_audio_0"),ma);da.setScale(.5);D=new CToggle(68,0,s_oTextureLibrary.getTexture("but_fullscreen_0"),s_oTextureLibrary.getTexture("but_fullscreen_1"),ma,!0);D.setScale(.5);C=new CButton(-136,0,s_oTextureLibrary.getTexture("button_favorites"),ma);C.setScale(.5);M=new CButton(136,
0,s_oTextureLibrary.getTexture("but_back"),ma);M.setScale(.5);E.addEventListener(ON_MOUSE_UP,this._onAuto,this);h.addEventListener(ON_MOUSE_UP,this._onPopupPayTable,this);e.addEventListener("RIGHT",this._onAddTotalBet);e.addEventListener("LEFT",this._onMinusTotalBet);l.addEventListener(ON_MOUSE_UP,this._onPopupTotalBet,this);y.addEventListener(ON_MOUSE_UP,this.onClickMore,this);M.addEventListener(ON_MOUSE_UP,this.onClickBack,this);D.addEventListener(ON_MOUSE_UP,this._onFullscreen,this);ca.addEventListener(ON_MOUSE_UP,
this._onRecord,this);da.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);F.addEventListener(ON_MOUSE_UP,this.onTurbo,this);C.addEventListener(ON_MOUSE_UP,this._onFavorites,this);y.addEventListener(ON_MOUSE_OVER,this.onUIMouseOver,{Id:0,name:s_aData.lang.MSG_OPTION[CMain_Language]});M.addEventListener(ON_MOUSE_OVER,this.onUIMouseOver,{Id:0,name:s_aData.lang.MSG_OPTION[CMain_Language]});D.addEventListener(ON_MOUSE_OVER,this.onUIMouseOver,{Id:4,name:s_aData.lang.MSG_TURN_FULLSCREEN[CMain_Language]});
ca.addEventListener(ON_MOUSE_OVER,this.onUIMouseOver,{Id:5,name:s_aData.lang.MSG_POP_BETRECORD[CMain_Language]});da.addEventListener(ON_MOUSE_OVER,this.onUIMouseOver,{Id:6,name:s_aData.lang.MSG_MUTE_ALL[CMain_Language]});y.addEventListener(ON_MOUSE_OUT,this.onUIMouseOut,{Id:0});M.addEventListener(ON_MOUSE_OUT,this.onUIMouseOut,{Id:0});D.addEventListener(ON_MOUSE_OUT,this.onUIMouseOut,{Id:4});ca.addEventListener(ON_MOUSE_OUT,this.onUIMouseOut,{Id:5});da.addEventListener(ON_MOUSE_OUT,this.onUIMouseOut,
{Id:6});s_oTextureLibrary.getTexture("but_type_0");k=s_oTextureLibrary.getTexture("but_type_1");s_oTextureLibrary.getTexture("but_type_4");da.setBackPanel(k);y.setBackPanel(k);M.setBackPanel(k);D.setBackPanel(k);ca.setBackPanel(k);E.setBackPanel(k);h.setBackPanel(k);F.setBackPanel(k);C.setBackPanel(k);ea=new PIXI.Graphics;ea.visible=!1;ea.interactive=!0;ea.on("pointerup",function(){oPopSetting.existDOM?s_oGame._onAutoSpin():s_oGame.closePopUp()});ea.beginFill(0,.7);ea.drawRect(0,-200,CANVAS_WIDTH,
CANVAS_HEIGHT+200);X.addChild(ea);K.addChild(S);K.addChild(ma);if(HAS_FREE_SPIN){wa=new CButton(0,0,s_oTextureLibrary.getTexture("fsm_spin_btn"),S,"fsmSpinButton");wa.setScale(.5);wa.setInteractive(!1);wa.addEventListener(ON_MOUSE_UP,function(){});L=new PIXI.extras.BitmapText("0",Ga);L.anchor.set(.5);L.position.set(0,25);L.scale.set(1.25,1.25);L.text=FREE_SPIN_TIMES.toString();wa.addChild(L);B=new CCheckWindow(s_oTextureLibrary.getTexture("fsm_welcome"),s_oTextureLibrary.getTexture("fsm_btn_ok"),
null,J,!1);B.setScale(.5);B.setCheckWindowPosition(0,-CANVAS_HEIGHT);B.setConfirmButtonPosition(0,210);B.addConfirmButtonListener(ON_MOUSE_UP,function(){B.hideCheckWindow();d._onFreeSpin(0)});k=new Map([["en",'Welcome to Free spin mode\nyou\'ve entered the "free spin mode". \nYou may check the number of free spins \nremaining from the "free spin button" below. \nWhen you click the "free spin button", \nthe game will start automatically. Good luck.'],["zh-cn",'\u6b22\u8fce\u6765\u5230\u514d\u8d39\u6e38\u620f\u6a21\u5f0f\n\u60a8\u597d\uff0c\u60a8\u5df2\u8fdb\u5165"\u514d\u8d39\u6e38\u620f\u6a21\u5f0f"\n\u60a8\u53ef\u4ee5\u4ece\u4e0b\u65b9\u7684 "\u514d\u8d39\u6e38\u620f\u94ae" \n\u786e\u8ba4\u5269\u4f59\u7684\u514d\u8d39\u6e38\u620f\u6b21\u6570\n\u5f53\u60a8\u70b9\u51fb "\u514d\u8d39\u6e38\u620f\u94ae" \u540e\uff0c\n\u5c06\u5f00\u59cb\u81ea\u52a8\u8fdb\u884c\u6e38\u620f\uff0c\u795d\u60a8\u597d\u8fd0\u3002'],
["id",'Selamat datang di Mode Free Spin. \nKamu memasuki \u201cMode Free Spin.\u201d \nKamu bisa melihat sisa Free Spin \ndari \u201cTombol Free Spin\u201d di bawah. \nSaat mengklik "Tombol Free Spin," game \nakan dimulai otomatis. Semoga beruntung.']]);var m="en";if("id"===CMain_Language||"zh-cn"===CMain_Language)m=CMain_Language;B.addSystemText("content",{font:"24px Arial",fill:16777215,align:"center",textBaseline:"alphabetic"});B.setText("content",k.get(m));B.setTextPosition("content",10,50);B.showCheckWindow();
a=new CCheckWindow(s_oTextureLibrary.getTexture("fsm_totally_"+m),s_oTextureLibrary.getTexture("fsm_btn_ok"),null,J,!1);a.setScale(.5);a.setCheckWindowPosition(0,-CANVAS_HEIGHT);a.setConfirmButtonPosition(0,230);a.addConfirmButtonListener(ON_MOUSE_UP,function(){a.hideCheckWindow()});a.addText("totalwin",{font:"65px font_totally_num",align:"center"});a.setTextPosition("totalwin",0,-35)}f=new remindBuyFG(function(){d._onBuyFreeSpin()});f.onResize(!0)};this.createWheel=function(){var d=createBitmap(s_oTextureLibrary.getTexture("frame_wheel_1"));
d.scale.set(.5);d.anchor.set(.5);d.position=T;R.addChild(d);d=createBitmap(s_oTextureLibrary.getTexture("frame_wheel"));d.scale.set(.5);d.anchor.set(.5);d.position=T;R.addChild(d);PIXI.loader.resources.bg_fx1&&(fa=new PIXI.spine.Spine(PIXI.loader.resources.bg_fx1.spineData),fa.scale.set(.5),fa.state.setAnimation(0,"idle",!0),R.addChild(fa));PIXI.loader.resources.bg_fx2&&(d=new PIXI.spine.Spine(PIXI.loader.resources.bg_fx2.spineData),d.scale.set(.5),d.state.setAnimation(0,"play",!0),R.addChild(d));
ra=new Marquee(T.x,T.y+184,.5,R,pictureAmount=3);ra.cycle(0);ia=new PIXI.spine.Spine(PIXI.loader.resources.big_frame.spineData);ia.scale.set(.5);ia.position.set(FIRST_REEL_POSITION.x,FIRST_REEL_POSITION.y+168);ia.state.setAnimation(0,"idle",!1);ba.addChild(ia)};this.createPayLine=function(){Ca=new PayLineManager(ba,ba);R.addChild(ba)};this.createBigWinFx=function(){PIXI.loader.resources.big_win_fx&&(U=new PIXI.spine.Spine(PIXI.loader.resources.big_win_fx.spineData),U.scale.set(.5),U.state.setAnimation(0,
"idle",!0),ka.addChild(U))};this.createReelSymbol=function(){var d=FIRST_REEL_POSITION.x,k=FIRST_REEL_POSITION.y;na=new PIXI.Graphics;na.lineStyle(1,16777215,1);na.beginFill(0,.5);na.drawRect(d-SYMBOL_WIDTH/2-10,k+SYMBOL_HEIGHT/2,(SYMBOL_WIDTH+20)*NUM_REELS,4*(SYMBOL_HEIGHT+SPACE_BETWEEN_ROW));na.endFill();R.addChild(na);va.mask=na;for(var m=0;m<NUM_REELS;m++)pa[m]=[],pa[m].push(new ReelColumn(m,d,k,.5,{width:SYMBOL_WIDTH,height:SYMBOL_HEIGHT+SPACE_BETWEEN_ROW},NUM_ROWS,va)),pa[m+NUM_REELS]=[],pa[m+
NUM_REELS].push(new ReelColumn(m+NUM_REELS,d,k+SYMBOL_HEIGHT*NUM_ROWS,.5,{width:SYMBOL_WIDTH,height:SYMBOL_HEIGHT+SPACE_BETWEEN_ROW},NUM_ROWS,va)),d+=SYMBOL_WIDTH+SPACE_BETWEEN_REEL;R.addChild(va)};this.createWinFrame=function(){for(var d=FIRST_REEL_POSITION.x,k=FIRST_REEL_POSITION.y,m=0;m<NUM_ROWS;m++){for(var Q=0;Q<NUM_REELS;Q++){var xa=new CWinningFrame(m,Q,d,k,Ea);Fa[m*NUM_REELS+Q]=xa;d+=SYMBOL_WIDTH+SPACE_BETWEEN_REEL}d=FIRST_REEL_POSITION.x;k+=SYMBOL_HEIGHT+SPACE_BETWEEN_ROW}R.addChild(Ea)};
this.createDynamicSymbol=function(){for(var d=FIRST_REEL_POSITION.x,k=FIRST_REEL_POSITION.y,m=0;m<NUM_ROWS;m++){for(var Q=0;Q<NUM_REELS;Q++){var xa=new CStaticSymbolCell(m,Q,d,k,.5,H,aa);qa[m*NUM_REELS+Q]=xa;d+=SYMBOL_WIDTH+SPACE_BETWEEN_REEL}d=FIRST_REEL_POSITION.x;k+=SYMBOL_HEIGHT+SPACE_BETWEEN_ROW}R.addChild(aa);R.addChild(H)};this.initFeature=function(){g&&(g.init(pa,R),g.createScatterDynamic(R))};this.getReelColumn=function(){return pa};this.getDynamicSymbol=function(){return qa};this.getWinFrame=
function(){return Fa};this.addDynamicMask=function(d,k,m){};this.removeDynamicMask=function(){};this.playBackgroundAnimation=function(d,k,m){sa.state.setAnimation(d,k,m)};this.addBackgroundAnimation=function(d,k,m,Q){sa.state.addAnimation(d,k,m,Q)};this.endBackgroundAnimation=function(){sa.state.setAnimation(0,"free_out",!1);sa.state.addAnimation(0,"idle",!0,0)};this.showPopupBackground=function(){ea.visible=!0};this.hidePopupBackground=function(){ea.visible=!1};this.getPopupBackgroundVisible=function(){return ea.visible||
x.getCheckWindowContainerVisible()};this.hideAllLine=function(){Ca.hideAllLine()};this.playLine=function(d,k){Ca.playLine(d,k)};this.onUIMouseOut=function(){n--;if(0==n)s_oGame.onInterfaceOut()};this.onUIMouseOver=function(){n++;s_oGame.onInterfaceOver(this.name)};this.hideRecordButton=function(){ca.setVisible(!1)};this.hideQuickLobbyButton=function(){};this.hideHomeButton=function(){};this.setVisible=function(d){Z.visible=d;Ba.visible=d};this.unload=function(){};this.refreshMoney=function(d,k){ua.showNumber(d,
k,!0)};this.refreshBet=function(d){};this.refreshAuto=function(d){0>d?(A._font.size=ha.fontSize+40,A.text="\u221e",A.position.set(-33,-45)):(A._font.size=ha.fontSize,A.text=d.toString(),A.centered(0,0))};this.refreshCoinValue=function(d){};this.refreshTotalBet=function(d){HAS_FREE_SPIN||x.refreshCost(d);totalBetValue=d;V.setNumber(d);V.adjustScale(.76);window.dispatchEvent(new CustomEvent("GAME_UPDATE_TOTAL_BET",{detail:{totalBet:d}}))};this.refreshNumLines=function(d){};this.refreshJP=function(d,
k,m,Q){};this.refreshFreeGames=function(d){ja.text=d.toString()};this.refreshWinText=function(d,k,m){W.showNumber(d,k?k:0);ra.refreshWinText(m,k)};this.refreshMarqueeWin=function(d,k){ra.refreshWinText(d,k)};this.setBtnSpinVisible=function(d){r.setVisible(d)};this.enableBtnStop=function(d){d?v.enable():v.disable()};this.setBtnStopVisible=function(d){v.setVisible(d)};this.setBtnCreditVisible=function(d){};this.setBtnFreeGameVisible=function(d){I.setVisible(d);!1===d&&x.setBuyFreeGameFlag(!1)};this.resetWin=
function(d){d||(W.resetNumber(),ra.resetWin(),ra.refreshWinText(0))};this.enableGuiButtons=function(){var d=!1;0<FREE_SPIN_TIMES&&b&&(FREE_SPIN_TIMES--,L.text=FREE_SPIN_TIMES.toString(),0===FREE_SPIN_TIMES?(wa.setVisible(!1),r.setInteractive(!0),s_oGame.sendGetFreeSpinTotalPayout(FREE_SPIN_ID),HAS_FREE_SPIN=!1):d=!0);d?this._onFreeSpin(0):(E.enable(),e.enable(),h.enable(),F.enable(),y.enable(),x.enable())};this.disableSpin=function(){r.disable()};this.enableSpin=function(){r.enable()};this.disableGuiButtons=
function(d){E.disable();e.disable();h.disable();F.disable();y.disable();d&&null!==P?x.disable(0):x.disable()};this.enableAutoStopBtn=function(d){d?u.enable():u.disable()};this.setAutoStopBtnVisible=function(d){u.setVisible(d)};this.onClickMore=function(){"more"!==Da&&(D.setActive(!screenfull.isFullscreen),Da="more",TweenLite.to(S.position,.3,{ease:Power4.easeOut,y:54,onComplete:function(){q=!1}}),TweenLite.to(ma.position,.3,{ease:Power4.easeOut,y:-54,onComplete:function(){q=!1}}))};this.onClickBack=
function(){"main"!==Da&&(Da="main",TweenLite.to(S.position,.3,{ease:Power4.easeOut,y:-54,onComplete:function(){q=!1}}),TweenLite.to(ma.position,.3,{ease:Power4.easeOut,y:54,onComplete:function(){q=!1}}))};this._onExit=function(){s_oGame._onExit()};this._onSpin=function(d){s_oGame.onSpin("CLICK",d);za&&(za=!1,isMobile?window.innerHeight>window.innerWidth?ga.addGtag("event","\u9996\u6b21\u9032\u904a\u6232\u504f\u597d(Mobile-\u76f4)",{send_to:GAME_GA_CODE[gameId],event_category:"click"}):ga.addGtag("event",
"\u9996\u6b21\u9032\u904a\u6232\u504f\u597d(Mobile-\u6a6b)",{send_to:GAME_GA_CODE[gameId],event_category:"click"}):ga.addGtag("event","\u9996\u6b21\u9032\u904a\u6232\u504f\u597d(PC)",{send_to:GAME_GA_CODE[gameId],event_category:"click"}))};this._onFreeSpin=function(d){s_oGame.onFreeSpin("CLICK",d);b=!0};this.controlButtonSpinAnimation=function(){v.setAnimation("play01",!0)};this._onStop=function(){s_oGame.onStop()};this._onStopAuto=function(){s_oGame._onStopAuto()};this._onAddTotalBet=function(){s_oGame.addTotalBet()};
this._onMinusTotalBet=function(){s_oGame.minusTotalBet()};this._onAuto=function(){s_oGame.popUp("AUTO_SETTING")};this._onCharge=function(){q||s_oGame._onCharge()};this._onPopupPayTable=function(){q||(s_oGame.popUp("PAY_TABLE"),ga.addGtag("event","\u9ede\u64ca\u8aaa\u660e\u9801",{send_to:GAME_GA_CODE[gameId],event_category:"click"}))};this._onPopupTotalBet=function(){q||s_oGame.popUp("TOTAL_BET")};this._onFullscreen=function(){q||s_oGame.toggleFullscreen()};this._onHomePage=function(){q||s_oGame._onHomePage()};
this._onRecord=function(){q||(s_oGame._onRecord(),ga.addGtag("event","\u9ede\u64ca\u6ce8\u55ae",{send_to:GAME_GA_CODE[gameId],event_category:"click"}))};this._onAudioToggle=function(){if(!q){switch(Aa){case ALLSOUND:da.setTexture(s_oTextureLibrary.getTexture("but_audio_2"));Aa=SOUND_EFFECT;ga.addGtag("event","\u958b\u95dc\u97f3\u6a02(\u95dc\u97f3\u6a02)",{send_to:GAME_GA_CODE[gameId],event_category:"click"});break;case SOUND_EFFECT:da.setTexture(s_oTextureLibrary.getTexture("but_audio_1"));Aa=NOSOUND;
ga.addGtag("event","\u958b\u95dc\u97f3\u6a02(\u5168\u95dc)",{send_to:GAME_GA_CODE[gameId],event_category:"click"});break;case NOSOUND:da.setTexture(s_oTextureLibrary.getTexture("but_audio_0")),Aa=ALLSOUND,ga.addGtag("event","\u958b\u95dc\u97f3\u6a02(\u958b)",{send_to:GAME_GA_CODE[gameId],event_category:"click"})}s_oGame.toggleAudio(Aa)}};this._onFavorites=function(){q||window.dispatchEvent(new CustomEvent("BUTTON_FAVORITES_ON_CLICK",{detail:{}}))};this.enableGameUI=function(d){r.setInteractive(d);
E.setInteractive(d);y.setInteractive(d);e.setInteractive(d);h.setInteractive(d);F.setInteractive(d)};this.enablePopUI=function(d,k){};this.setOptionStatus=function(d){};this.setFullScreen=function(d){D.setActive(d)};this.showBigFrame=function(d){ia.alpha=1;ia.state.setAnimation(0,"play",!1);ia.position.x=FIRST_REEL_POSITION.x+d*(SYMBOL_WIDTH+SPACE_BETWEEN_REEL)};this.setBigFrameAlpha=function(d){ia.alpha=d};this.dynamicDepthSwap=function(d){var k=null;H.children&&(k=H.children);if(k){var m=k[d];k[d]=
k[d+NUM_REELS];k[d+NUM_REELS]=m}};this.resetDynamicDepth=function(){H.children.sort(function(d,k){return d.index>k.index?1:d.index<k.index?-1:0})};this.onTurbo=function(){switch(N){case NONE:F.setTexture(s_oTextureLibrary.getTexture("but_quick"));N=QUICK;oPopSetting.cbQuickSpin.status=!0;oPopSetting.cbTurboSpin.status=!1;s_oGame.changeSpinMode();ga.addGtag("event","spin mode(Quick)",{send_to:GAME_GA_CODE[gameId],event_category:"click"});break;case QUICK:F.setTexture(s_oTextureLibrary.getTexture("but_turbo"));
N=TURBO;oPopSetting.cbQuickSpin.status=!1;oPopSetting.cbTurboSpin.status=!0;s_oGame.changeSpinMode();ga.addGtag("event","spin mode(Turbo)",{send_to:GAME_GA_CODE[gameId],event_category:"click"});break;case TURBO:F.setTexture(s_oTextureLibrary.getTexture("but_normal")),N=NONE,oPopSetting.cbQuickSpin.status=!1,oPopSetting.cbTurboSpin.status=!1,s_oGame.changeSpinMode(),ga.addGtag("event","spin mode(Normal)",{send_to:GAME_GA_CODE[gameId],event_category:"click"})}};this.playBigWinAnimation=function(){null!==
U&&U.state.setAnimation(0,"play",!0);null!==fa&&fa.state.setAnimation(0,"play",!0);null!==Y&&Y.state.setAnimation(0,"play",!0)};this.endBigWinAnimation=function(){null!==U&&U.state.setAnimation(0,"idle",!0);null!==fa&&fa.state.setAnimation(0,"idle",!0);null!==Y&&Y.state.setAnimation(0,"idle",!1)};this.playMarqueeAnimation=function(d){ra.playAnimation(d)};this.playWinAnimation=function(d){};this._onBuyFreeSpin=function(){s_oSoundMgr.playOneShot("buy_free");s_oGame.resetTotalBetAfterBuyFree();x.showCheckWindow()};
this.closePopupBuyFree=function(){x.hideCheckWindow()};this.createBuyFreeGameAnimation=function(){PIXI.loader.resources.buy&&(P=new PIXI.spine.Spine(PIXI.loader.resources.buy.spineData),P.scale.set(.5),P.alpha=0,R.addChild(P))};this.playBuyFreeGameAnimation=function(){null!==P&&(x.setAlpha(0),P.alpha=1,P.state.setAnimation(0,"play_"+CMain_Language,!1),s_oSoundMgr.playOneShot("after_buy"),setTimeout(function(){P.alpha=0},4600))};this.endBuyFreeGameAnimation=function(){null!==P&&(P.alpha=1,P.state.setAnimation(0,
"free_out",!1),setTimeout(function(){P.alpha=0;x.setAlpha(1)},700))};this.winGreaterThanTen=function(){null!==U&&(U.state.setAnimation(0,"play",!1),U.state.addAnimation(0,"idle",!1));null!==fa&&(fa.state.setAnimation(0,"play",!0),fa.state.addAnimation(0,"idle",!0));null!==Y&&(Y.state.setAnimation(0,"play",!1),Y.state.addAnimation(0,"idle",!1));P.state.hasAnimation("big_win")&&(P.alpha=1,P.state.setAnimation(0,"big_win",!1))};this.getFreeGameAnimationContainer=function(){return G};this.showFreeSpinTotalPayout=
function(d){a.setText("totalwin",d.toFixed(FIXED_DIGIT).toFixedNoRound(FIXED_DIGIT));a.showCheckWindow()};this.showRemindBuyFG=function(){f.addHtml(!0)};this.refreshBuyFreeTotalBet=function(d,k){x.refreshCost(d);x.modifyCoinValueIndex(k)};this.init();return this};
